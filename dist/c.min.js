!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c=e()}(this,function(){"use strict";var f={DEFAULT_OPTION:{data:{},verify:{}},IGNORE_KEYWORDS:["name","data","store","change","events","verify","filter","lock"],EMULATEHTTP:{get:"GET",send:"GET",post:"POST",sync:"POST",put:"POST",delete:"POST",patch:"POST",fetch:"GET"}},p="unexpect c.model with only data that accepts a standard JSON type object.",a="unexpect model name that atom can find it",u="can not find target modal with atom.swap",r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var t,e=(function(t){var e,n;e=r,n=void 0,n=function(c){var t,r,a,e,n,s,u,l,f,i,o,p,h,d,v,m,g,y,b,x,_,k,S,w,E,O,T,N,P,j,C,A,R,L,M,D,I,q,z,H,J,$,F,U,X,G,V,B,Q,W,Y,K,Z,tt,et,nt,rt,it,ot,at,ut,ct,st,lt;function ft(n,t,r){return Gt(t,r?function(t,e){(f(r)?Yt(r,e):null!=r&&e===r)||(n[e]=t)}:function(t,e){n[e]=t}),n}function pt(t,e,n){return vt(e)?Object.defineProperties(t,e):Object.defineProperty(t,e,n)}function ht(t){var e=Jt(arguments,1);return function(){return t.apply(null,e.concat(Jt(arguments)))}}function dt(t){return"function"==typeof t}function vt(t){return!!t&&("object"==typeof t||dt(t))}function mt(t){return"string"==typeof t||t+""===t}function gt(t){return"boolean"==typeof t&&!!t===t}function yt(t){return"number"==typeof t&&t===+t}function bt(t){return null==t||"object"!=typeof t}function xt(t){return t&&St(t,"RegExp")}function _t(t){return null!=t&&i.test(t)}function kt(t){return 0 in arguments&&void 0!==t}function St(t,e){return a.call(t)==="[object "+e+"]"}function wt(t){return!!t&&!dt(t)&&vt(t)&&yt(t.length)}function Et(t){return"number"==typeof t&&t!=t}function Ot(t){return+t===t&&t%1!=0}function Tt(t){return mt(t)?!an(t):bt(t)||!an(t)}function Nt(t){return t instanceof Element}function Pt(t){return t instanceof Node}function jt(t){var e=[f(t),dt(t),null===t,void 0===t,St(t,"Arguments"),St(t,"Boolean"),St(t,"String"),St(t,"Number"),St(t,"Date"),St(t,"RegExp"),St(t,"NodeList"),St(t,"HTMLCollection")];return o[ee(e,se(!0))]||"object"}function Ct(t){return t}function At(){}function Rt(t){return t}function Lt(t){return null!=t?dt(t.toString)?t.toString():t+"":""}function Mt(t){return+t&&"number"==typeof+t?+t:t>>0}function Dt(t){return((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).substr(1)}function It(t){var e=[];return vt(t)||St(t,"String")?e=cn(t):null!=t&&e.push(t),e}function qt(t){return-Mt(t)}function zt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ht(){return Jt(arguments)}function Jt(t,e,n){return wt(t)?r.call(t,e,n):[]}function $t(t){return null!=t?f(t)||mt(t)?ae(Object.keys(t),Mt):Object.keys(t):[]}function Ft(t,e){return void 0===e?t:function(){return t.apply(e,arguments)}}function Ut(t,e,n){var r,i=t.length,o=Ft(e,n);for(r=0;r<i;r++)o(t[r],r,t);return t}function Xt(e,n,t){return Ut($t(e),function(t){n.call(this,e[t],t,e)},t),e}function Gt(t,e,n){return wt(t)?Ut(t,e,n):vt(t)&&null!==t?Xt(t,e,n):t}function Vt(t,e){if(wt(t))return Jt(t);if(vt(t)&&e){var n,r,i=$t(t),o={};for(n=i.length;n--;)o[r=i[n]]=t[r];return o}return bt(t)?t:JSON.parse(JSON.stringify(t))}function Bt(t){var e,n,r=t;return wt(t)?r=Jt(t).map((e=Bt,n=ln(bt),function(){return(n.apply(null,arguments)?e:Rt).apply(null,arguments)})):bt(t)||t instanceof Node||Xt(t,function(t,e){this[e]=bt(t)?t:Bt(t)},r=(p.prototype=t.constructor.prototype)!==Object.prototype?new p:{}),r}function Qt(t,e){return t.test(e)}function Wt(t,e,n,r){var i=2 in arguments,o=Ft(e,r);return n=i?n:ie(t),Jt(t,i?0:1).reduce(o,n)}function Yt(t,e,n){var r,i,o=xt(e)?Qt:n?je:ue,a=!1;if(wt(t))for(r=t.length;r--&&!(a=o(e,t[r])););else if(vt(t))for(r=(i=$t(t)).length;r--&&!(a=o(e,t[i[r]])););return a}function Kt(t,e,n){return Yt($t(t),e,n)}function Zt(t,e,n){for(var r=xt(e)?Qt:n?je:ue,i=f(t),o=$t(t),a=0;a<o.length;a++)r(e,t[o[a]])&&(u=t,c=o[a],i?u.splice(c,1):delete u[c])&&i&&(o.pop(),a--);var u,c;return t}function te(t,e,r){var n=[],i=xt(e)?ht(Qt,e):dt(e)?e:se(e);return Gt(Vt(t),function(t,e,n){i.apply(n,arguments)&&this.push(r?e:t)},n),n}function ee(t,e){var n=te(t,e,!0);return 1===n.length?n.pop():n.length?n:null}function ne(t,e){var n=ee(t,e);return bt(n)?n:n.shift()}function re(t,e){var n=ne(t,e);return null===n?n:t[n]}function ie(t){return wt(t)?t[0]:t}function oe(t){return wt(t)?t[t.length-1]:t}function ae(t,r){var e=wt(t),i=e?[]:{};return(e?Ut:Xt)(t,function(t,e,n){i[e]=this?r.call(n,t,e,n):t[r]},dt(r)),i}function ue(t,e){return t===e}function ce(t,e){return t!==e}function se(e){return function(t){return t===e}}function le(t,e){for(var n,r=Jt(t),i=e?je:ue,o=[],a=0;a<r.length;a++)if(void 0!==r[a])for(o.push(r[a]),n=a+1;n<r.length;n++)i(r[a],r[n])&&(r[n]=void 0);return o}function fe(t){var e,n,r=[],i=$t(t);for(e=0,n=i.length;e<n;e++)r.push([i[e],t[i[e]]]);return r}function pe(t){var e,n,r={};for(e=0,n=t.length;e<n;e++)r[t[e][0]]=t[e][1];return r}function he(t){return te(t,ln(ht(Yt,_e(Jt(arguments,1),!0))))}function de(t){for(var e,n=t.length,r=Array(n),i=0;i<n;i++)(e=ke(0,i))!==i&&(r[i]=r[e]),r[e]=t[i];return r}function ve(){return n.apply([],arguments)}function me(u){return function(){var t,e,n,r=[],i=!0,o=ve.apply([],arguments),a=u?je:ue;for(t=0;t<o.length;t++){for(n=o[t],e=0;e<o.length;e++)if(t!==e&&a(n,o[e])){i=!1;break}i&&r.push(n),i=!0}return r}}function ge(u){return function(){var t,e,n,r,i=Jt(arguments[0]),o=arguments.length,a=[];for(t=0;t<i.length;t++)if(r=!0,!Yt(a,n=i[t],u)){for(e=1;e<o;e++)if(!Yt(arguments[e],n,u)){r=!1;break}r&&a.push(n)}return a}}function ye(t,e){return!bt(t)&&!bt(e)&&(St(t,"Object")&&St(e,"Object")||wt(t)&&wt(e))}function be(t,e){return Jt(t,Mt(e)||1)}function xe(t,e){var n,r=Jt(t),i=void 0===this?"shift":"pop",o=xt(e)?ht(Qt,e):dt(e)?e:se(e);for(n=r.length;n--&&!o(r[i]()););return r}function _e(){var t=ve.apply([],arguments),n=!!St(oe(t),"Boolean")&&t.pop();return Wt(Jt(t),function(t,e){return t.concat(n&&f(e)?_e(e,n):e)},[])}function ke(t,e){return yt(e)||(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function Se(t,e,n){yt(e)||(e=t,t=0);var r=Math.random()*(e-t)+t;return Mt(n)?+r.toFixed(n):r}function we(t){return 100*Math.random()<Math.max(1,Math.min(Mt(t||50),99))}function Ee(t,e){var n=t?y+_:"";return(n=(e?x:b)+n).charAt(ke(0,an(n)-1))}function Oe(t,e,n){for(var r=Mt(t)||2,i=[];r--;)i[r]=Ee(e,n);return i.join("")}function Te(t,e){var n=Jt(arguments,2),r=ct[e]||ct.default;return ae(xn(t,0),function(){return r.apply(null,n)})}function Ne(t,e){var n;return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function Pe(t,e){return function(i){var o=Jt(arguments,1);return function(){for(var t=0,e=o.slice(),n=0,r=e.length;n<r;n++)e[n]===c&&(e[n]=arguments[t++]);for(;t<arguments.length;)e.push(arguments[t++]);return i.apply(this,e)}}(Ne,(Mt(e)||1)+1)(t)}function je(t,e){var n,r,i,o;if(t===e||a.call(t)!==a.call(e)||bt(t)&&bt(e))return t===e;if(t.toString()===e.toString())if(f(t)){if(t.length===e.length){for(n=t.length;n--;)if(!je(t[n],e[n]))return!1;return!0}}else if(r=$t(t),i=$t(e),o=r.length,r.length===i.length){for(;o--;)if(!je(t[r[o]],e[r[o]]))return!1;return!0}return!1}function Ce(t){var e={};return Ut(t,function(t){e[t.name]=t.value}),e}function Ae(t){return decodeURIComponent(t.replace(/\+/g," "))}function Re(t){for(var e,n=Lt(t).split("#").shift(),r=n.indexOf("?"),i={},o=~r?n.substr(r+1):n;e=S.exec(o);)i[Ae(e[1])]=Ae(e[2]);return delete i[o],i}function Le(t){var e,n,r=Vt(t);for(e in r)r[e]=(n=vt(r[e])?JSON.stringify(r[e]):r[e],encodeURIComponent(n).replace(" ","%20"));return JSON.stringify(r).replace(/["{}]/g,"").replace(/:/g,"=").replace(/,/g,"&").replace(k,"")}function Me(t){return e.call(t)}function De(t){var e,n=~t.search("-")?"-":~t.search("_")?"_":"";if(n){for(e=1,n=t.split(n);e<n.length;e++)n[e]=Ie(n[e]);return n.join("")}return t}function Ie(t){return t.charAt(0).toUpperCase()+t.substr(1)}function qe(t){return Me(t).replace(A,"").replace(M," ").replace(q,"><").replace(z,"<").replace(H,">").replace(J,"</")}function ze(t,e,n){var r=n?"toUpperCase":"toLowerCase",i=Lt(e)||"-";return t.replace(R,function(t,e){return(0<e?i:"")+t[r]()})}function He(t){return w[t]||t}function Je(t){return E[t]||t}function $e(t){return"\\"+T[t]}function Fe(t){return t.replace(j,"").replace(C,"")}function Ue(t){return qe(t.replace(C,""))}function Xe(t){var e,n,r,i="",o=$.exec(Me(t)),a=o[1],u=o[2];if(a)switch(a.toLowerCase()){case"/":case"end":case"/for":case"/each":case"/if":case"/exist":i="';}); _p+='";break;case"if":case"exist":i="'; var "+(u=u.split(" then "))[0]+" = "+u[0]+" || false; _ext("+u[0]+","+(u[1]?u[1].toString()+",":"")+"function(){ _p+='";break;case"for":case"each":u=u.split(" in "),e="op",n=u[1],r=u[0],i="'; struct."+e+"()("+n+",function("+r.replace(F,"")+"){ _p+='";break;case"not":case"cat":case"extend":i=Ge(a,(u=u.split(" with "))[1],u[0]);break;default:i=Ge(a,(u=u.split(" use "))[0],u[1]||"",!0)}return i}function Ge(t,e,n,r){var i=t.split(":");return"'; "+(r?e+"=":"")+"struct."+i[0]+'("'+(i[1]||"")+'")('+e+","+n.replace(F,"")+"); _p+='"}function Ve(){return sn(X.apply(this,arguments))}function Be(t){var e,i,n,o=ft({url:"",type:"GET",param:u,charset:"utf-8",vaild:!0,cache:!1,success:At,error:At,loading:At,loadend:At,header:u,username:null,password:null,timeout:0,aysnc:!0,emulateJSON:!0,contentType:!0},t||{}),a=l.localStorage;return dt(o.param)&&(o.param=o.param()),o.cache&&(a.getItem("_")||a.setItem("_","{}"),void 0!==(e=JSON.parse(a.getItem("_"))[o.url||l.location.href.split("#").shift()]))?o.sucess.call(l,e):(i=new XMLHttpRequest,"GET"===o.type.toUpperCase()&&o.param&&(o.url+=(~o.url.search(/\?/g)?"&":$t(o.param).length?"?":"")+Le(o.param),o.param=null),i.addEventListener("loadstart",o.loading),i.addEventListener("loadend",o.loadend),i.open(o.type,o.url,o.aysnc,o.username,o.password),n=vt(o.header)&&o.header["Content-Type"]||"application/x-www-form-urlencoded",o.header!==u&&vt(o.header)&&Xt(o.header,function(t,e){i.setRequestHeader(e,t)}),"POST"===o.type.toUpperCase()&&!0===o.contentType&&-1===(n||"").search("json")&&i.setRequestHeader("Content-Type",n+";chartset="+o.charset),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=function(t){var e,n,r;if(4===i.readyState&&i.responseText)if(200<=(e=i.status)&&e<300||304===e){try{n=o.emulateJSON?JSON.parse(i.responseText):i.responseText}catch(t){return o.error.call(l,i,t,"json parser error")}o.success.call(l,n,i,t),o.cache&&((r=JSON.parse(a.getItem("_")))[o.url||l.location.href.split("#")[0]]=i.responseText,a.setItem("_",JSON.stringify(r)))}else o.error.call(l,i,t)},Mt(o.timeout)&&(i.timeout=1e3*Mt(o.timeout),i.ontimeout=function(){4===i.readyState&&i.responseText||o.error.call(l,i),i.abort()}),i.send(o.param?vt(o.param)?function(t,e,n){if(t)switch(e){case 0:return Le(n||{});case 1:return JSON.stringify(n||{});default:return Le(n||{})}return n}(o.contentType,G[n],o.param):o.param:null),i)}function Qe(t){var e,n,r=ft({url:"",key:"callback",param:u,timeout:5,error:At,success:At,callback:("structJSTP"+Math.random()).replace(".","")},t||{});dt(r.param)&&(r.param=r.param()),e=r.url+"?"+Le(r.param)+($t(r.param).length?"&":"")+r.key+"="+r.callback,(n=document.createElement("script")).src=e,l[r.callback]=function(t){document.body.removeChild(n,wn(r.timesetup)),l[r.callback]=null,r.success(t)},document.body.append(n),Mt(r.timeout)&&(r.timesetup=Sn(function(){document.body.removeChild(n),l[r.callback]=null,r.error()},1e3*r.timeout))}function We(t,e,n,r){return dt(e)&&(r=n,n=e,e=u),Be({url:t,param:e,success:n,error:r})}function Ye(t,e,n,r){return dt(e)&&(r=n,n=e,e=u),Be({url:t,type:"POST",param:e,success:n,error:r})}function Ke(t,e,n){var r=t._eid||0;return 0===r&&pt(t,"_eid",{value:r=++B,writable:!1,enumerable:!1,configurable:!0}),V[r]||(V[r]={}),V[r][e]||(V[r][e]=[]),Yt(V[r][e],n)||V[r][e].push(n),t}function Ze(t,e,n){var r=t._eid||0;return r&&V[r]&&(V[r][e]?Zt(V[r][e],n).length&&n||delete V[r][e]:e||n||(delete t._eid,delete V[r])),t}function tn(t,e,n){var r=!1,i=t._eid||0;return i&&V[i]&&(r=dt(n)&&V[i][e]?Yt(V[i][e],n):an(V[i][e])),!!r}function en(t,e){var n=(vt(e)?e._eid:0)||0;return n&&(pt(t,"_eid",{value:++B,writable:!1,enumerable:!1,configurable:!0}),V[t._eid]=Bt(V[n])),t}function nn(t,e,o){return Ut(Lt(e).split(","),function(t){var e,n,r,i;e=this,n=Me(t),r=o,i=e._eid||0,r=r||[],i&&V[i]&&""!==n&&Xt(V[i][n],function(t){t.apply(this,r)},e)},t),t}function rn(t,e,n){var r,i,o,a=Lt(e||"").split(".");if(1===a.length)t.hasOwnProperty(e)&&(r=t[e]);else for(i=0,r=t;i<a.length&&!bt(r=r[a[i]]);i++);return n&&(o=Jt(arguments,3),dt(n)?r=n.apply(r,(o.unshift(r),o)):mt(n)&&(r=dt(r[n])?r[n].apply(r,o):r[n])),r}function on(t,e){var n,r,i,o=(e||"").split(".");if(1===o.length)t.hasOwnProperty(e)&&delete t[e];else{for(r=0,n=t,i=o.pop();r<o.length;r++)n=n[o[r]];f(n)?n.splice(Mt(i),1):delete n[i]}return t}function an(t){return dt(t)||null==t||Et(t)?0:yt(t.length)?t.length:vt(t)?$t(t).length:0}function un(){return(new Date).getTime()}function cn(t,e){var n=[],r=mt(e);return St(t,"String")?t.split(""):(Gt(t,function(t){n.push(r?rn(t,e):t)}),n)}function sn(n,r){var i,o=[];return function(){var t,e=Jt(arguments);for(i=o.length;i--;)if(je(o[i][0],e))return o[i][1];return o.push([e,t=n.apply(r||this,e)]),t}}function ln(t,e){var n=xt(t)?ht(Qt,t):t;return dt(n)?function(){return!n.apply(e,arguments)}:ht(ce,n).bind(e)}function fn(){var e=Jt(arguments);return function(t){return Wt(e,function(t,e){return e(t)},t)}}function pn(t,e){if(vt(t)&&mt(e)&&e){var n=rn(t,e);return n.sort.apply(n,Jt(arguments,2)),t}return f(t)?t.sort.apply(t,Jt(arguments,1)):t}function hn(t){for(var e,n,r=0,i=t.length;r<i;r++){for(e=t[r],n=r-1;0<=n&&t[n]>e;)t[n+1]=t[n],n--;t[n+1]=e}return t}function dn(t,e){return vt(t)&&mt(e)&&e?(hn(rn(t,e)),t):f(t)?hn(t):t}function vn(t,e,n){if(!(n<e)){var r=function(t,e,n){for(var r=t[n],i=e,o=e;i<n;i++)t[i]<r&&zt(t,i,o,o++);return zt(t,n,o),o}(t,e,n);vn(t,e,r-1),vn(t,r+1,n)}}function mn(t){return vn(t,0,t.length-1),t}function gn(t,e){return vt(t)&&!f(t)&&mt(e)?(mn(rn(t,e)),t):f(t)?mn(t):t}function yn(){return Ut(Ht.apply(null,arguments),Object.freeze).pop()}function bn(t){pt(this,{"-":{value:0 in t?t:void 0,writable:!0,enumerable:!1,configurable:!1},"=":{value:[],writable:!1,enumerable:!1,configurable:!1}})}function xn(t,e){var n,r=[];for(n=0;n<t;n++)r[n]=e;return r}function _n(t){return W(unescape(encodeURIComponent(Lt(t))))}function kn(t){return decodeURIComponent(escape(Y(Lt(t).replace(/\s/g,""))))}function Sn(t,e){return setTimeout(t,Mt(e))}function wn(t){clearTimeout(t)}return c.VERSION="4.2.5",r=(t=[]).slice,a={}.toString,e="".trim,n=t.concat,s=eval,u=Object.freeze({}),l=c(),f=Array.isArray,i=/^[a-z$_]+[a-z$_0-9]*$/i,o=["array","function","null","undefined","arguments","boolean","string","number","date","regexp","nodeList","htmlcollection"],p=function(){},h=Zt,d=me(),v=me(!0),m=ge(),g=ge(!0),y="0123456789",x=(b="abcdefghijklmnopqrstuvwxyz").toUpperCase(),_="~`!@#$%^&*(){}[]-+=_|/.,><:;",k=/[\t\r\n\f\x20]/g,S=/([^&=]+)=?([^&]*)/g,w={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"$quot;","'":"&#x27;","`":"&#x60"},E={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#x27;":"'","&#x60;":"`"},O=/\\|'|\r|\n|\u2028|\u2029/g,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/[&<">'](?:(amp|lt|quot|gt|#39);)?/g,P=/&((g|l|quo)t|amp|#39);/g,j=/<script\b[^>]*>(.*?)<\/script>/gi,C=/<!--([\s\S]*?)-->/gi,A=/[\t\r\n\f]/gim,R=/[A-Z]/g,L="[\\s\\x20\\xA0\\uFEFF]+",M=RegExp(L,"g"),D=RegExp("^"+L,"g"),I=RegExp(L+"$","g"),q=RegExp(">"+L+"<","g"),z=RegExp("<"+L,"g"),H=RegExp(L+">","g"),J=RegExp("</"+L,"g"),$=/^([\S]+)\s?([\s\S]+)?/,F=/[\[\]]*/g,U={line:/[\r\n\f]/gim,quot:/\s*;;\s*/gim,space:/[\x20\xA0\uFEFF]+/gim,assert:/_p\+='(\\n)*'[^+]/gim,comment:/<!--(.*?)-->/gim,tagleft:/\s{2,}</gim,tagright:/>\s{2,}/gim},X=function(p,t,e){var n,r,h=0,d="_p+='",i=vt(t)?e:mt(t)?t:"",o=vt(t)?t:{},a=Jt(arguments,2),u=RegExp(this.escape+"|"+this.interpolate+"|"+this.command+"|"+this.evaluate+"|$","g");Me(p).replace(u,function(t,e,n,r,i,o){return d+=p.slice(h,o).replace(O,$e),h=o+t.length,e?d+="'+((_t=("+e+"))==null?'':_(_t))+'":n?d+="'+((_t=("+n+"))==null?'':_t)+'":r?d+=Xe(r):i&&(d+="';"+(u=((a=i)||"").trim(),c=u.slice(0,3),s=u.slice(0,5),l=u.slice(0,7),f=u[u.length-1],"/if"!==u&&"/for"!==u&&"/"!==u||(a="}"),"}"!==f&&"{"!==f&&("if "===c||"if("===c?a="if("+u.slice(2)+"){":"elseif"===l||"elseif("===l?a="}else if("+u.slice(6)+"){":"elif "===s||"elif("===s?a="}else if("+u.slice(4)+"){":"else"===s&&(a="}else{")),a)+";_p+='"),t;var a,u,c,s,l,f}),d="var _t,_d,_ext=struct.exist(),_=struct.html('encode'),__=struct.extend(),_p=''; "+(d="with(__("+(i?"{}":"__({},_x_||{})")+",_bounds)){ "+(d=d.replace(U.line,"").replace(U.comment,"").replace(U.assert,"").replace(U.quot,";").replace(U.space," ").replace(U.tagright,"> ").replace(U.tagleft," <"))+"'; }")+" return _p;";try{n=s("(function(_bounds,struct,"+(i||"_x_")+(a.length?","+a.toString():"")+"){ "+d+" })")}catch(t){throw console.error(t.res=d),t}return r=[o,c],function(){return Me(n.apply(this,r.concat(Jt(arguments))))}}.bind({escape:"{{-([\\s\\S]+?)}}",interpolate:"{{#([\\s\\S]+?)}}",command:"{{\\*([\\s\\S]+?)}}",evaluate:"{{([\\s\\S]+?)}}"}),G={"application/x-www-form-urlencoded":0,"application/json":1},V={},B=0,bn.prototype.value=function(){return fn.apply(null,this["="].splice(0,an(this["="]))).apply(null,void 0===this["-"]?arguments:this["-"])},Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",W=l.btoa||function(t){var e,n,r,i,o=Lt(t),a="";for(r=0,i=Q;o.charAt(0|r)||(i="=",r%1);a+=i.charAt(63&e>>8-r%1*8)){if(255<(n=o.charCodeAt(r+=.75)))throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return a},Y=l.atob||function(t){var e,n,r,i,o,a=Lt(t).replace(/[=]+$/,""),u="";if(a.length%4==1)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(i=e=0,o=Q;r=a.charAt(i++);~r&&(n=e%4?64*n+r:r,e++%4)?u+=String.fromCharCode(255&n>>(-2*e&6)):0)r=o.indexOf(r);return u},K={obj:vt,object:vt,arr:f,array:f,arraylike:wt,str:mt,string:mt,bool:gt,boolean:gt,num:yt,number:yt,fn:dt,func:dt,nan:Et,prim:bt,primitive:bt,idt:_t,identifier:_t,def:St,define:St,int:function(t){return+t===t&&t%1==0},float:Ot,double:Ot,date:function(t){return t instanceof Date},ept:Tt,empty:Tt,dom:function(t){return vt(t)&&0<t.nodeType&&(t instanceof Node||t instanceof Element)},elm:Nt,element:Nt,node:Pt,text:Pt,native:function(t){var e,n=Function.prototype.toString,r=Object.prototype.hasOwnProperty,i=RegExp("^"+n.call(r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{return e=n.call(t),i.test(e)}catch(t){return!1}},need:kt,require:kt,required:kt,type:jt,default:jt},Z={str:Lt,string:Lt,num:Mt,number:Mt,arr:It,array:It,hex:Dt,rgb:function(t){var e=parseInt(~t.indexOf("#")?t.substr(1):t,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},minus:qt,default:Lt},tt={arr:Ut,array:Ut,obj:Xt,object:Xt,each:Gt,default:Gt},et={key:Kt,index:Kt,exist:Yt,default:Yt},nt={first:ne,last:function(t,e){var n=ee(t,e);return bt(n)?n:n.pop()},single:re,one:re,index:ee,default:ee},rt={key:function(e,n){var r={};return Xt(e,function(t){r[n.apply(e,arguments)]=t}),r},hook:function(t,e){var n=dt(e);return ae(t,function(t){return(n?e:t[e]).apply(t,arguments)})},map:ae,default:ae},it={fast:function(t){for(var e={},n=yt(ie(t)),r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0);return ae($t(e),n?Mt:Rt)},slim:le,default:le},ot={un:pe,unpair:pe,pair:fe,default:fe},at={at:function(t){var n=_e(Jt(arguments,1),!0);return te(t,function(t,e){return!Yt(n,e)})},with:h,all:he,default:he},ut={left:be,right:function(t,e){return Jt(t,0,-(Mt(e)||1))},lefto:xe,leftto:xe,righto:xe.bind(!0),rightto:xe.bind(!0),default:be},ct={int:ke,float:Se,double:Se,str:Oe,word:Oe,string:Oe,bool:we,boolean:we,char:Ee,letter:Ee,character:Ee,arr:Te,array:Te,date:function(){var t=un();return new Date(t+(we()?Rt:qt)(ke(0,t)))},hex:function(t){return(t?"#":"")+Dt({r:ke(0,255),g:ke(0,255),b:ke(0,255)})},dice:function(t){return ke(1,(t=0<Mt(t)?Mt(t):2)%2==0?t:t+1)},default:Math.random},st={parse:Re,str:Le,stringify:Le,serialize:Le,query:Ce,requery:Ce,default:Re},lt={op:tt,each:tt,map:rt,has:et,diff:{fast:d,slim:v,default:d},intsec:{fast:m,slim:g,default:m},type:K,sort:{native:pn,q:gn,i:dn,quick:gn,insert:dn,default:pn},html:{encode:function(t){return+t===t?t:Lt(t).replace(N,He)},decode:function(t){return+t===t?t:Lt(t).replace(P,Je)},strip:Fe,zip:Ue,default:fn(Fe,Ue)},unique:it,convert:Z,pull:at,param:st,ajax:{get:We,fetch:We,put:Ye,post:Ye,jsonp:Qe,cors:Qe,ajax:Be,default:Be},event:{on:Ke,add:Ke,bind:Ke,off:Ze,remove:Ze,unbind:Ze,has:tn,exist:tn,copy:en,extend:en,emit:nn,trigger:nn,dispatch:nn,default:nn},prop:{get:rn,set:function(t,e,n){var r,i,o,a,u=(e||"").split(".");if(1===u.length)t[e]=n;else{for(o=0,r=t,i=u.pop();o<u.length;o++)r=null==(a=r[u[o]])?{}:a;r[i]=n}return t},rm:on,not:on,remove:on,default:rn},drop:ut,pairs:ot,index:nt,random:ct,string:{trim:Me,trimleft:function(t){return t.replace(D,"")},trimright:function(t){return t.replace(I,"")},came:De,camelize:De,capit:Ie,capitalize:Ie,collapse:qe,rize:ze,rizewith:ze,default:Lt},reduce:{left:Wt,right:function(t,e,n,r){var i=2 in arguments,o=Ft(e,r);return n=i?n:oe(t),Jt(t,0,i?void 0:-1).reduceRight(o,n)},default:Wt},assembly:{a2b:Y,atob:Y,btoa:W,b2a:W,utob:_n,u2b:_n,btou:kn,b2u:kn,default:Y},doom:{axt:Ve,cache:Ve,default:X}},Xt({chain:function(){return new bn(arguments)},define:pt,extend:ft,depextend:function(t,e,n){return ft(ft(wt(t)?[]:{},t),e,n)},keys:$t,noop:At,clone:Vt,cloneDeep:Bt,depclone:Bt,not:Zt,cat:function(t,e){var n,r,i,o,a=[],u=xt(e)?ht(Qt,e):dt(e)?e:se(e);if(f(t))for(n=0,r=t.length;n<r;n++)u.call(t,t[n],n,t)&&a.push(t.splice(n,1).pop(n--));else if(vt(t))for(i in t)u.call(t,t[i],i,t)&&((o={})[i]=t[i],a.push(o),delete t[i]);return a},slice:Jt,find:te,filter:te,reject:function(t,e,n){return te(t,ln(e),n)},every:function(t,e){var n,r,i=!0;for(r=(n=$t(t)).length;r--&&(i=e(t[n[r]],n[r],t)););return i},some:function(t,e){var n,r,i=!1;for(r=(n=$t(t)).length;r--&&!(i=e(t[n[r]],n[r],t)););return i},chunk:function(t,e){var n,r,i=parseInt(Mt(e))||2,o=[];for(n=0,r=t.length;n<r;n+=i)o.push(t.slice(n,n+i));return o},compact:function(t){return te(t,Rt)},pluck:function(t,e,n){var r=[],i=Lt(e);return Gt(t,function(t){var e=rn(t,i,n);return void 0!==e&&this.push(e)},r),r},groupBy:function(t,n){var e={},r=dt(n);return Gt(t,function(t){var e=r?n(t):rn(t,n);e&&(this[e]?this[e].push(t):this[e]=[t])},e),e},countBy:function(t,n){var r={},i=dt(n);return Gt(t,function(t){var e=i?n(t):rn(t,n);e&&(r[e]?this[e]+=1:this[e]=1)},r),r},concat:ve,cast:Ht,shuffle:de,first:ie,last:oe,flat:_e,merge:function o(t){var e,n=Jt(arguments);return f(t)?Wt(n,function(i,t){return Ut(t,function(t,e){var n=i[e],r=t;i[e]=ye(n,r)?o(n,r):r}),e=i},[]):vt(t)&&Wt(n,function(r,i){return Ut($t(i),function(t){var e=r[t],n=i[t];r[t]=ye(e,n)?o(e,n):n}),e=r},{}),e},auto:function(t,e){return 1<Mt(e)?Jt(de(t),0,Mt(e)):t[ke(an(t)-1)]},part:Pe,once:function(t){return Pe(t)},eq:je,cookie:function(t){var e,n,r,i=Jt(arguments),o=i.length,a=(n=document.cookie,r={},Ut(n?n.split(";"):[],function(t){var e,n=(t||"").search("=");~n&&(e=Me(t.substr(0,n))).length&&(r[e]=Me(t.substr(n+1)))}),r);return o?1===o?a[t]:((e=new Date).setDate(e.getDate()+365),document.cookie=Me(i[0]+"="+(i[1]||"")+";expires="+(i[2]||e.toUTCString())+";path="+(i[3]||"/")+";domain="+(i[4]||"")+";"+(i[5]?"secure":"")),!0):a},values:cn,memoize:sn,negate:ln,link:fn,size:an,now:un,exist:function(t){var e=Jt(arguments,1);t&&oe(e).apply(this,e)},lock:yn,cool:Rt,hz:function(t,e,n){var r;return function(){r||Sn((t.apply((r=1,n),arguments),function(){r=0}),e)}},fill:xn,combined:function(t,n){var r={};return f(t)&&f(n)&&Ut(t,function(t,e){r[t]=n[e]}),r},ayc:Sn,cyc:wn,v8:Ct},function(t,e){var n;bn.prototype[e]=function(){return this["="].push(t),this},n=t,c[e]=function(){return n}}),Xt(lt,function(e,t){var n;bn.prototype[t]=function(t){return this["="].push(e[Me(Lt(t).toLowerCase())]),this},n=yn(e),c[t]=function(t){return n[Me(Lt(t).toLowerCase())]||n.default}}),c.root=l,c.broken=u,c.toString=Lt,c.prototype=c.__proto__=null,yn(Ct(c))}(function(t){return"undefined"!=typeof self?self:this||r}),t.exports?t.exports=n:e.struct=n}(t={exports:{}},t.exports),t.exports),n=window.localStorage,i="HN@",o=function(t){return t.split("").reverse().join("")},d={t:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ram:{},kAt:function(t,e){return t.charCodeAt(~~(e%t.length))},ecd:function(t){var e,n,r,i,o,a,u=0,c="";if(!t)return t;for(;e=(o=t[u++]<<16|t[u++]<<8|t[u++])>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,c+=this.t.charAt(e)+this.t.charAt(n)+this.t.charAt(r)+this.t.charAt(i),u<t.length;);return((a=t.length%3)?c.slice(0,a-3):c)+"===".slice(a||3)},dcd:function(t){var e,n,r,i,o,a,u=0,c=[];if(!t)return t;for(t+="";e=(a=this.t.indexOf(t.charAt(u++))<<18|this.t.indexOf(t.charAt(u++))<<12|(i=this.t.indexOf(t.charAt(u++)))<<6|(o=this.t.indexOf(t.charAt(u++))))>>16&255,n=a>>8&255,r=255&a,c.push(e),64!==i&&(c.push(n),64!==o&&c.push(r)),u<t.length;);return c},incry:function(t,e){for(var n=0,r=t.length,i=[];n<r;n++)i[n]=t[n].charCodeAt(0)^this.kAt(e,n);return this.ecd(i)},decyt:function(t,e){for(var n=0,r=(t=this.dcd(t)).length;n<r;n++)t[n]=String.fromCharCode(t[n]^this.kAt(e,n));return t.join("")},set:function(t,e){n.setItem(i+this.incry(t,o(t)),this.incry(encodeURIComponent(JSON.stringify(e)),t))},get:function(t){var e=n.getItem(i+this.incry(t,o(t)));return e?JSON.parse(decodeURIComponent(this.decyt(e,t))):0},rm:function(t){n.removeItem(i+this.incry(t,o(t)))}};function h(t,e){return this.on(e,t)}var v=e.each("object"),m=e.define();var s=e.broken,l=e.keys(),g=e.prop("get"),y=e.size(),b=e.clone();function x(t,e){if(!e._v)return!0;for(var n,r=e._asv(s),i=[],o=l(r),a=0,u=o.length,c=void 0;a<u;a++)if(!(0,r[o[a]])(c=g(t,o[a]))){i.push(o[a],c),console.error("model of key ( "+o[a]+" ) except error with model verify, please check your model verify define!");break}return n=!y(i),e.emit("verify:"+(n?"success":"fail"),n?[b(t)]:i),n}var _=e.prop("set");var k=e.ajax();var c=e.type("function"),S=e.event("on"),w=e.event("off"),E=e.event("emit");function O(t,e){return c(e)&&S(this,t,e),this}function T(t,e){return w(this,t,e)}function N(t,e){return E(this,t,e||[])}var P=e.broken,j=e.extend(),C=e.clone(),A=e.type("string"),R=e.type("bool"),L=e.type("object"),M=e.type("array"),D=e.type("prim"),I=e.type("function"),q=e.each("object"),z=e.cool(),H=e.size(),J=e.prop("get"),$=e.prop("set"),F=e.prop("rm"),U=e.merge(),X=e.noop(),G=e.link(),V=e.eq(),B=function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=j(C(f.DEFAULT_OPTION),t);if(!L(e.data)||M(e.data))throw new Error(p);var r,i,o=e.events,a=e.verify,u=A(e.name),c=R(e.store)&&e.store&&u,s=(this.isLock=!!e.lock,[]),l=e.data||{};c&&d.get(e.name);q(o,h,(r=this,i={name:u?e.name:void 0,_ast:function(t,e){var n=I(t)?t:z;return e===P?n(l):{}},_asl:function(t){return t===P?n.isLock:null},_asv:function(t){return t===P?a:{}},_ash:function(t){return t===P?s:[]},_v:!!H(a),_l:function(t,e){return e===P?n.isLock=!!t:void 0},_c:function(t,e){return e===P?l=t:{}},_s:c},v(i,function(t,e){m(r,e,{value:t,writable:!1,enumerable:!1,configurable:!1})}),r)),u&&(d.ram[this.name]=this),j(this,e,f.IGNORE_KEYWORDS).emit("init").off("init")};B.prototype={constructor:B,on:O,off:T,emit:N,lock:function(){return this._l(!0,P),this.emit("lock")},unlock:function(){return this._l(!1,P),this.emit("unlock")},get:function(t,e){var n=this._ast(z,P);return C(t||0===t?J(n,t,e):n)},set:function(t,e,n){if(this.isLock)return this;var r,i,o,a=void 0,u=this._ast(z,P),c=this._ash(P),s=arguments.length,l=!D(t)&&L(t);if(s)if(l)n=e,(a=t)&&!V(u,a)&&x(a,this)&&(c.push(C(u)),this._c(a,P,this.change=!0),this._s&&d.set(this.name,a),n||this.emit("change",[C(a)]));else if(!V(J(u,t),e)&&(r=t,i=e,!(o=this)._v||x(_(o.get(),r,i),o))&&(c.push(C(u)),$(u,t,e,this.change=!0),this._s&&d.set(this.name,u),!n)){this.emit("change",[C(u)]);var f=t.split("."),p=f[0],h={};h[p]=C(u[p]),1<f.length&&this.emit("change:"+p,[h]),this.emit("change:"+t,[h])}return this},remove:function(t,e){if(this.isLock)return this;var n=this._ast(z,P),r=this._ash(P);if(D(t)&&null!=t&&(r.push(C(n)),F(n,t),this._s&&d.set(this.name,n),!e)){this.emit("change",[C(n)]);var i=t.split("."),o=i[0],a={};a[o]=C(n[o]),1<i.length&&this.emit("change:"+o,[a]),this.emit("change:"+t,[a]),this.emit("remove:"+t)}return this},clear:function(t){var e={};return this.set(e,t),this._ast(z,P)!==e||t||this.emit("clear"),this},back:function(t){if(void 0===this._asl(P))return this;var e=this._ash(P),n=void 0;return e.length&&(n=e.pop())&&(this._c(n,P,this.change=!0),t||this.emit("change,back",[n])),this},pipe:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(L(t)){var e=U({type:"get",async:!0,success:X,error:X},t);return function(t,e,n,r,i,o){var a=this,u=arguments;if(this.isLock)return this;var c={url:e||this.url||"",type:f.EMULATEHTTP[t],async:!0,param:n||this.pipeParam||{},header:o||this.pipeHeader||{}};return"POST"===c.type&&this.emulateJSON&&(c.header["Content-Type"]="application/json"),c.header["X-HTTP-Method-Override"]=t,c.success=function(){r.apply(a,u),a.emit(t+":success",u)},c.error=function(){i.apply(a,u),a.emit(t+":error",u)},this.emit(t,[k(c),c])}.call(this,e.type,e.url,e.param,e.success,e.error,e.header)}return this},send:function(t,e){return L(t)&&(e=t,t=null),this.pipe({type:"send",url:t||this.url,param:this.get(),header:e})},fetch:function(t,e,n){return I(t)&&(n=e,e=t,t={}),this.pipe({type:"fetch",url:this.url,param:this.get(),success:G(I(e)?e:JSON.parse,this.set.bind(this)),header:n})},sync:function(t,e){return L(t)&&(e=t,t=null),this.pipe({type:"sync",url:t||this.url,param:this.get(),header:e})},toJSON:function(){return JSON.stringify(this.get())}};var Q={},W=["root","render","events"],Y=e.root,K=e.each(),Z=e.extend(),tt=e.each("array"),et=e.type("function"),nt=e.type("string"),rt=e.type("arraylike"),it=e.type("elm"),ot=e.slice(),at=e.has(),ut=["click","dbclick","mouseup","mousedown","mouseout","mouseover","mouseenter","mouseleave"],ct=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector,st=function(t){this.el=rt(t)?ot(t):it(t)?[t]:[]},lt=function t(e){return t.init(e)},ft=1,pt={},ht="onfocusin"in Y,dt={focus:"focusin",blur:"focusout"},vt={mouseenter:"mouseover",mouseleave:"mouseout"},mt={check:"change"},gt={change:"input",input:"input"},yt=["input","keypress","keydown","keyup"],bt=-1<Y.navigator.userAgent.indexOf("Firefox"),xt=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,_t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function kt(t){return t._zid||(t._zid=ft++)}function St(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function wt(t,e,n,r){var i,o=new RegExp;return(e=St(e)).ns&&(i=e.ns,o=new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)")),(pt[kt(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||o.test(t.ns))&&(!n||kt(t.fn)===kt(n))&&(!r||t.sel==r)})}function Et(t,e){return t.del&&!ht&&t.e in dt||!!e}function Ot(t){return vt[t]||gt[t]||mt[t]||ht&&dt[t]||t}function Tt(s,t,r,l,i,o,a){var e=kt(s),u=pt[e]||(pt[e]=[]);K(t.split(/\s/),function(t){var n=St(t);n.fn=r,n.sel=i,n.e in vt&&(r=function(t){var e=t.relatedTarget;if(!e||e!==this&&!this.contains(e))return n.fn.apply(this,arguments)});var c=(n.del=o)||r;n.proxy=function(t){var e=void 0,n=t.type,r=t.target.nodeName,i="true"===t.target.contentEditable,o=at(yt,n)&&("INPUT"===r||"TEXTAREA"===r||i),a=new lt.xEvent(t=Ct(t));if(t.isImmediatePropagationStopped()||o&&t.target._compositionIn)return!1;a.data=l,o&&(e=function(t){var e=0;if(null!=t.selectionStart)e=t.selectionStart;else if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}return e}(t.target));var u=c.apply(s,void 0===a._args?[a]:[a].concat(a._args));return!1===u&&(t.preventDefault(),t.stopPropagation()),e&&function(t,e){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select()}t.selectionStart?t.setSelectionRange(e,e,t.focus()):t.focus()}(t.target,e),u},n.i=u.length,u.push(n);var e=Ot(n.e);e in gt&&(s.addEventListener("compositionstart",function(t){t.target._compositionIn=!0}),s.addEventListener("compositionend",function(t){t.target._compositionIn=!1,bt||lt(t.target).trigger("input")})),s.addEventListener(e,n.proxy,Et(n,a))})}function Nt(e,t,n,r,i){var o=kt(e);tt((t||"").split(/\s/),function(t){K(wt(e,t,n,r),function(t){delete pt[o][t.i],e.removeEventListener(Ot(t.e),t.proxy,Et(t,i))})})}function Pt(){return!0}function jt(){return!1}function Ct(r,i){if(i||!r.isDefaultPrevented){i||(i=r),K(_t,function(t,e){var n=i[e];r[e]=function(){return this[t]=Pt,n&&n.apply(i,arguments)},r[t]=jt});try{r.timeStamp||(r.timeStamp=Date.now())}catch(t){}(void 0!==i.defaultPrevented?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(r.isDefaultPrevented=Pt)}return r}lt.init=function(t){return new st(t)},lt.matchz=function(t,e){return null!==t&&t!==document&&nt(e)&&ct.call(t,e)},lt.event={add:Tt,remove:Nt},lt.proxy=function(t,e){var n=2 in arguments&&ot(arguments,2);if(et(t)){var r=function(){return t.apply(e,n?n.concat(ot(arguments)):arguments)};return r._zid=kt(t),r}if(nt(e))return n?lt.proxy.apply(null,(n.unshift(t[e],t),n)):lt.proxy(t[e],t);throw new TypeError("expected function")},lt.Event=function(t,e){var n=void 0;nt(t)||(t=(e=t).type);var r=document.createEvent(at(ut,t)?"MouseEvent":"Events"),i=!0;if(e)for(n in e)"bubbles"===n?i=!!e[n]:r[n]=e[n];return r.initEvent(t,i,!0),Ct(r)},lt.xEvent=function(t){var e=void 0;for(e in t)this[e]=t[e]},st.prototype={get:function(t){return 0 in arguments?this.el[+t+(t<0?this.length:0)]:this.el},each:function(t,e){return tt(this.el,t,e||this),this},find:function(e){var n=[];return tt(this.el,function(t){n=ot(t.querySelectorAll(e)).concat(n)}),lt(n)},closest:function(t,e){for(var n=this.el,r=this.get(0),i=void 0,o=0,a=n.length;o<a;r=n[++o]){for(;r&&!i&&r!==e;)lt.matchz(r=r.parentNode,t)&&(i=r);if(i)break}return lt(i||[])},on:function(t,r,i,o,a){var e;return t&&!nt(t)?(K(t,function(t,e){this.on(e,r,i,t,a)},this),this):(nt(r)||et(o)||!1===o||(o=i,i=r,r=void 0),void 0!==o&&!1!==i||(o=i,i=void 0),et(i)&&nt(r)&&(a=o,o=i),!1===o&&(o=jt),this.each(function(n){r&&(e=function(t){var e=lt.matchz(t.target,r)?t.target:lt(t.target).closest(r,n).get(0);e&&e!==n&&o.apply(a||e,[Z(t,{currentTarget:e,liveFired:n})].concat(ot(arguments,1)))}),Tt(n,t,o,i,r,e)}))},off:function(e,n,r){return e&&!nt(e)?(K(e,function(t,e){this.off(e,n,t)},this),this):(nt(n)||et(r)||!1===r||(r=n,n=void 0),!1===r&&(r=jt),this.each(function(t){Nt(t,e,r,n)}))},trigger:function(e,n){return(e=nt(e)?lt.Event(e):Ct(e))._args=n,this.each(function(t){e.type in dt&&et(t[e.type])?t[e.type]():"dispatchEvent"in t?t.dispatchEvent(e):lt(t).triggerHandler(e,n)})},triggerHandler:function(e,n){var r,i;return this.each(function(t){(r=function(t){var e=void 0,n={originalEvent:t};for(e in t)xt.test(e)||void 0===t[e]||(n[e]=t[e]);return Ct(n,t)}(nt(e)?lt.Event(e):e))._args=n,r.target=t,K(wt(t,e.type||e),function(t){return i=t.proxy(r),!r.isImmediatePropagationStopped()})}),i},html:function(e){return this.each(function(t){t.innerHTML=_toStr(e)})},remove:function(){return this.each(function(t){t.parentNode.removeChild(lt(t).off().get(0))})}};var At=e.prop("set"),Rt=e.type("string"),Lt=e.type("func"),Mt=e.type("object"),Dt=e.html("decode"),It=e.convert("string"),qt=e.each("array"),zt=e.each("object"),Ht=e.map(),Jt=e.noop(),$t=e.eq(),Ft={class:"className",style:"style.cssText",placeholder:"@placeholder",maxlength:"@maxlength",minLength:"@minLength",max:"@max",min:"@min",href:"@href",checked:"*checked",disabled:"*disabled",readonly:"*readonly",required:"*required",selected:"*selected",controls:"*controls",ended:"*ended",muted:"*muted",hidden:"*hidden",seeking:"*seeking",paused:"*paused",loop:"*loop",autoplay:"*autoplay",multiple:"*multiple",autofocus:"*autofocus",autocomplete:"*autocomplete",draggable:"*draggable",spellcheck:"*spellcheck",translate:"*translate",specified:"*specified",defer:"*defer",async:"*async"},Ut=["no","replace","append","remove","modifytext","withtext","removetext","addattr","modifyattr","removeattr"],Xt=new RegExp("</([^><]+?)>|<([^><]+?)/>|<([^><]+?)>|([^><]+)|$","g"),Gt={input:1,br:1,hr:1,img:1,meta:1,area:1,base:1,col:1,isindex:1,command:1,embed:1,keygen:1,link:1,head:1,param:1,source:1,track:1,wbr:1,path:1,circle:1,ellipse:1,line:1,rect:1,use:1,stop:1,polyline:1,polygon:1},Vt=/(\S+)=["'](.*?)["']|([\w-]+)/gi,Bt=/^\{|\}$/gi,Qt=/^\{([^'"\s]+)\}$/i,Wt=/^[\r\n\f\t\s]+|[\r\n\f\t\s]+$/gi,Yt=/^default[^\s]+/i,Kt=function t(e,n,r){var i=Ft[n]||n,o=Rt(r)?Dt(r):r;if(Yt.test(i)){i=i.slice(7).toLowerCase();var a=e.getAttribute(i)||e[i];null!=a&&""!==a||t(e,i,o)}else"*"===i[0]?At(e,i.slice(1),"true"===o||!0===o):"@"===i[0]?e.setAttribute(i.slice(1),o):":"===i[0]?lt(e).on(i.slice(1),o):At(e,i,o)},Zt=function(t,e,n){if(":"===e[0]&&Lt(n))lt(t).off(e.slice(1),n);else if(t[e]&&!delete t[e])try{t[e]=null}catch(t){}else t.removeAttribute(e)},te=function(t,e,n){var r=e,i=void 0;return Qt.test(e)&&(r=void 0!==(i=n[e.replace(Bt,"")])?i:e),":"===t[0]&&(r=Lt(i)?i:Function("event",It(e))),r},ee=[Jt,function(t){var e=t.s;e&&e.parentNode&&e.parentNode.replaceChild(t.n,e)},function(t){var e=t.s;e&&e.appendChild(t.n)},function(t){var e=t.s;e.parentNode&&e.parentNode.removeChild(e)},function(t){var e=t.s;if(t.isSlot)return e._destory&&e._destory(),e.parentNode.replaceChild(t.n,e);e.textContent=Dt(t.c)},function(t){var e=t.s;if(t.isSlot)return e._destory&&e._destory(),e.parentNode.replaceChild(t.n,e);e.textContent=Dt(t.c)},function(t){t.s.innerHTML=t.n.innerHTML},function(n){zt(n.a,function(t,e){Kt(n.s,e,t)})},function(t){var n,e,r,i=t.s,o=(n=t.o,e=t.a,r={},zt(e,function(t,e){n[e]===t&&(r[e]=1)}),r);zt(t.o,function(t,e){e in o||Zt(i,e,t)}),zt(t.a,function(t,e){e in o||Kt(i,e,t)})},function(n){zt(n.a,function(t,e){Zt(n.s,e,t)})}],ne={treeDiff:function(t,e,n,r,i,o){if(void 0===t)n.unshift(this.createPatch(r,e,2,o));else if(void 0===e)n.push(this.createPatch(t,0,3,o));else if(t.tagName===e.tagName){if(e.isSlot||t.isSlot)return n.push(this.createPatch(t,e,5,o)),n;if($t(t.attributes,e.attributes)||(t.attributes&&e.attributes?n.push(this.createPatch(t,e,8,o)):t.attributes?e.attributes||n.push(this.createPatch(t,e,9,o)):n.push(this.createPatch(t,e,7,o))),t.text!==e.text)return t.text&&e.text&&t.text!==e.text?n.push(this.createPatch(t,e,4,o)):t.text?e.text||n.push(this.createPatch(t,e,6,o)):n.push(this.createPatch(t,e,5,o)),n;var a,u=t.child.length,c=e.child.length;if(u||c)if(u<c){for(a=u;a<c;a++)n.push(this.createPatch(t,e.child[a],2,o));for(a=u;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else if(c<u){for(a=u-1;c<=a;a--)n.push(this.createPatch(t.child[a],0,3,o));for(a=c;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else for(a=Math.max(u,c);a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else t.tagName!==e.tagName&&n.push(this.createPatch(t,e,1,o));return n},applyPatch:function(e,t){qt(Ht(t,function(t){return t.path=t.s,t.s=this.mapTreeNode(e,t.s),t}.bind(this)),function(t){ee[t.t].call(e,t)})},mapTreeNode:function(t,e){for(var n,r=0,i=t.children;r<e.length&&i[e[r]];r++)i=(n=i[e[r]]).children;return n},createSelector:function(t){for(var e=[t.i];t=t.parent;)void 0!==t.i&&e.unshift(t.i);return e},createPatch:function(t,e,n,r){var i,o=this.createSelector(t),a=e.isSlot;switch(Ut[n]){case"replace":i={t:1,s:o,n:this.createDOMElement(e,r)};break;case"append":i={t:2,s:o,n:this.createDOMElement(e,r)};break;case"remove":i={t:3,s:o};break;case"modifytext":i={t:4,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"withtext":i={t:5,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"removetext":i={t:6,s:o,n:this.createDOMElement(e,r)};break;case"addattr":i={t:7,s:o,a:e.attributes};break;case"modifyattr":i={t:8,s:o,a:e.attributes,o:t.attributes};break;case"removeattr":i={t:9,s:o,a:t.attributes};break;default:i={t:0}}return i},createTreeFromHTML:function(t,o){var a,e={tagName:"__AX_VIEWROOT__",isRoot:!0,child:[]},u=e,c=e.child;return t.replace(Xt,function(t,e,n,r,i){return t&&t.replace(Wt,"")&&(e?(u=u.parent,c=u.child):n?((a=this.createObjElement(n,o)).i=c.length,c.push(a),a.parent=u):r?((a=this.createObjElement(r,o)).i=c.length,c.push(a),a.parent=u,a.tagName in Gt||(c=(u=a).child)):i&&i.trim()&&(u.text=i)),t}.bind(this)),e},createObjElement:function(t,e){var n=t.split(" "),r=Mt(e)?e:{},i=n.shift(),o=n.join(" "),a={tagName:i,child:[]};if("slot"===i&&(a.isSlot=!0),o){for(var u,c,s={};u=Vt.exec(o);)u[1]?s[u[1]]=te(u[1],u[2],r):c?(s[c]=te(c,u[0],r),c=0):c=u[0];a.attributes=s}return a},createDOMElement:function(t,e){var n=document.createElement(t.tagName);if(e&&t.attributes&&t.attributes.ref&&(e.refs[t.attributes.ref]=n),zt(t.attributes,function(t,e){Kt(n,e,t)}),e&&t.isSlot){var r=function(t,e){var n=Rt(t)?t:"";if(n&&e){var r={},i=n.trim().split("::");return r.name=i[0],r.path=i[1],r.root=e,r}}(t.text,n);return r&&e._updateSlotQueue.push(r),n}return t.text&&(n.textContent=Dt(t.text)),t.child.length&&qt(t.child,function(t){n.appendChild(this.createDOMElement(t,e))},this),n}},re=0,ie=e.doom(),oe=e.doom("cache"),ae=e.lock(),ue=e.extend(),ce=e.each("array"),se=e.each("object"),le=e.slice(),fe=e.type("func"),pe=e.type("string"),he=e.type("number"),de=e.type("object"),ve=e.type("elm"),me=e.type("arraylike"),ge=e.prop("get"),ye=e.ayc(),be=e.noop(),xe=e.link(),_e=e.clone(),ke=e.define(),Se=e.convert("string"),we=e.event("on"),Ee=e.event("off"),Oe=e.event("emit");function Te(t,e){return this.on(e,t)}function Ne(t){if(!ve(t)&&!me(t))throw new TypeError("el must be typeof DOMElement or NodeList collections -> not "+t);return!0}function Pe(t,e){var n,r,i,o,a=(o=t,function(){return o.emit("beforeRender",arguments),arguments}),u=(r=t,i=e,function(t){return i.apply(r,t),t}),c=(n=t,function(t){return n.root._vid=n._vid,n.emit("completeRender",t)});return xe(a,u,c)}function je(e,t){if(fe(t)){var n=Pe(e,t.bind(e));ke(e,"render",{get:function(){return n},set:function(t){return fe(t)&&(n=Pe(e,t.bind(e))),n},enumerable:!1,configurable:!1})}return e}function Ce(t,e){t&&t._updateSlotQueue.length&&(ce(t._updateSlotQueue,function(t,e){var n=ge(this,e.name);if(!n)return;var r=be,i=t[0],o=e.path&&de(i)?[ge(i,e.path)]:t;r=n.constructor===Ae?function(){var t=n({root:e.root});t.render.apply(t,o)}:fe(n)?function(){n.apply(this,[e.root].concat(o))}.bind(this):pe(n)||he(n)?function(){e.root.textContent=n}:function(){e.root.textContent=""};return this.useAsyncRenderSlot?ye(r):r()}.bind(t,e)),t._updateSlotQueue=[])}st.prototype.render=function(n,r,i,o){return this.each(function(t){var e=ne.createTreeFromHTML(n,i);return t._vid!==r._vid?(t._destory=function(){return r.destroy()},t.appendChild(ne.createDOMElement(r.axml=e,r).firstElementChild,t.innerHTML="")):(ne.applyPatch(t,ne.treeDiff(r.axml,e,[],null,null,r),r.axml=e),Ce(r,o))})};var Ae=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.refs={},this._vid=re++,this._updateSlotQueue=[];t=ue(_e(Q),t||{});var e,n,r,i=ae(de(t.props)?t.props:{}),o=t.root,a=t.render,u=t.events,c=t.name,s=t.model,l=t.template;fe(a)||(l=pe(l)?(t.cache?oe:ie)((e=l.trim(),n=c,r=this._vid,"<axt id="+(n||r)+">"+e+"</axt>"),i):fe(l)?l:be,a=l!=be?function(){var t=le(arguments);return lt(this.root).render(l.apply(this,t),this,i,t),Ce(this,t)}:be),o&&Ne(o)?(this.root=o,se(u,Te,je(this,a)),s instanceof B&&s.on("change",this.render)):this.mount=function(t){if(Ne(t))return this.root=o=t,se(u,Te,je(this,a)),s instanceof B&&s.on("change",this.render),1 in arguments&&this.render.apply(this,le(arguments,1)),delete this.mount,this},ue(this,t,W).emit("init").off("init")};Ae.prototype={constructor:Ae,on:function(t,n){return fe(n)&&ce(Se(t).split("|"),function(t){var e=t.split(":");1<e.length?lt(this.root).on(e[0],e[1],n,this):we(this,t,n)},this),this},off:function(t,n){return t&&pe(t)?ce(t.split("|"),function(t){var e=t.split(":");lt(this.root).off(e[0],e[1],n),Ee(this,t,n)},this):lt(this.root).off(),this},emit:function(t,n){var e=Se(t),r=e.split(":");return 2<r.length?(ce(e.split("|"),function(t){var e=t.split(":");lt(this.root).find(e[1]).trigger(e[0],n)},this),this):1<r.length?(lt(this.root).find(r[1]).trigger(r[0],n),this):Oe(this,t,n)},destroy:function(t){this.root._vid=void 0;var e=function(){lt(this.root).off()[t?"remove":"html"](),this.emit("destroy",delete this.root)}.bind(this);ye(e)}};var Re={use:[]},Le=["use","events","assert"],Me=e.cool(),De=e.type("string"),Ie=e.type("array"),qe=e.each("array"),ze=e.broken;function He(t,e){var n=this,r=this._assert(Me,ze),i=De(t)?[t]:Ie(t)?t:[];return qe(i,function(t){return e.call(n,r,t)}),this}function Je(e){return function(t){return t.name===e}}var $e=e.type(),Fe=e.each("array");var Ue=e.extend(),Xe=e.clone(),Ge=e.slice(),Ve=e.has(),Be=e.index(),Qe=e.index("one"),We=e.type("number"),Ye=e.type("function"),Ke=e.type("string"),Ze=e.type("array"),tn=e.cool(),en=e.each("array"),nn=e.map(),rn=e.size(),on=e.broken,an=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Ue(Xe(Re),t),n=[];this._assert=function(t,e){return e===on?t(n):[]},Ue(this.use(e.use),e,Le)};an.prototype={constructor:an,on:O,off:T,emit:N,all:function(){return this._assert(Ge,on)},use:function(t){return He.call(this,t,function(t,e,n){(n=d.ram[e])&&!Ve(t,n)&&t.push(n)})},out:function(t){return He.call(this,t,function(t,e){var n=Be(t,Je(e));We(n)&&t.splice(n,1)})},get:function(t){var e=this,n=void 0;return void 0===t?n=this.all():Ke(t)?n=Qe(this.all(),Je(t)):Ze(t)&&rn(t)&&(n=nn(t,function(t){return e.get(t)}),1===rn(n)&&(n=n[0])),n},of:function(t,e){var n,r;return en(this.all(),Ye(t)?t:(n=t,r=e,function(t){return t[n].apply(t,r)})),this},swap:function(t,e,n){if(!(t&&e&&Ke(t)&&Ke(e)))throw new Error(a);var r=this.get(t),i=this.get(e);if(!r||!i)throw new Error(u);var o=r.get();return r.set(i.get(),n),i.set(o,n),this},select:function(t){return function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=t({use:e});return n.back=function(){return t},n}(this,function(t,e){var n=[];switch($e(e)){case"regexp":Fe(t,function(t){return e.test(t.name)&&n.push(t.name)});break;case"string":n.push(e);break;case"array":n=e}return n}(this.all(),t))},toData:function(){return nn(this._assert(tn,on),function(t){return t.get()})},toChunk:function(){var e={};return this.of(function(t){return e[t.name]=t.get()}),e}};var un=e.type("required"),cn=e.type("function"),sn=e.type("int"),ln=e.type("array"),fn=e.type("float"),pn=e.type("string"),hn=e.type("object"),dn=e.type("number"),vn=e.type("primitive"),mn=e.type("arraylike"),gn=e.type("boolean"),yn=(e.type(),e.convert("string")),bn=function(r,i){return function(t,e){var n=r(t);return e?n:n||xn(t,"[ validation -> verify."+yn(i)+" ]")}},xn=function(t,e){return!1},_n=function(e){return function(t){return t instanceof e}},kn={isRequired:bn(un,"required"),isFunc:bn(cn,"function"),isInt:bn(sn,"int"),isArray:bn(ln,"array"),isFloat:bn(fn,"float"),isString:bn(pn,"string"),isObject:bn(hn,"object"),isNumber:bn(dn,"number"),isArrayLike:bn(mn,"arrayLike"),isPrimitive:bn(vn,"primitive"),isBool:bn(gn,"boolean"),isModel:bn(_n(B),"model"),isView:bn(_n(Ae),"view"),isAtom:bn(_n(an),"atom")};function Sn(e){return function(t){return new e(t||{})}}var wn=e.merge();function En(n){return function(e){var t=function(t){return new n(wn(e,t||{}))};return t.constructor=n,t}}var On=Object.create(null);return On.version="0.0.1",On.struct=e,On.verify=kn,On.atom=Sn(an),On.view=Sn(Ae),On.model=Sn(B),On.atom.extend=En(an),On.view.extend=En(Ae),On.model.extend=En(B),Object.freeze(On)});
