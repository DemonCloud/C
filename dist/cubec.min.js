!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.cubec={})})(this,(function(t){"use strict";function h(){return self||window||this}var e={},n=[],r="",i=n.slice,a=e.toString,o=r.trim,c=n.concat,p=eval,l=Object.freeze({}),f=h();function u(t,e){h[e]=function(){return t}}function s(e,t){h[t]=function(t){return e[We(X(t).toLowerCase())]||e.default}}function d(n,t,r){return ot(t,r?function(t,e){(O(r)?ht(r,e):null!=r&&e===r)||(n[e]=t)}:function(t,e){n[e]=t}),n}function v(t,e,n){return d(d(A(t)?[]:{},t),e,n)}function m(t,e,n){return x(e)?Object.defineProperties(t,e):Object.defineProperty(t,e,n)}function g(t){var e=tt(arguments,1);return function(){return t.apply(null,e.concat(tt(arguments)))}}function y(t,e){return function(){return(e.apply(null,arguments)?t:B).apply(null,arguments)}}function b(t){return"function"==typeof t}function x(t){return!!t&&("object"==typeof t||b(t))}function w(t){return"string"==typeof t||t+""===t}function _(t){return"boolean"==typeof t&&!!t===t}function E(t){return"number"==typeof t&&t===+t}function T(t){return null==t||"object"!=typeof t}function S(t){return t&&C(t,"RegExp")}var O=Array.isArray,k=/^[a-z$_]+[a-z$_0-9]*$/i;function N(t){return null!=t&&k.test(t)}function j(t){return 0 in arguments&&void 0!==t}function C(t,e){return a.call(t)==="[object "+e+"]"}function A(t){return!!t&&!b(t)&&x(t)&&E(t.length)}function D(t){return"number"==typeof t&&t!=t}function P(t){return+t===t&&t%1==0}function L(t){return+t===t&&t%1!=0}function M(t){return t instanceof Date}function I(t){return w(t)?!$n(t):T(t)||!$n(t)}function R(t){return x(t)&&0<t.nodeType&&(t instanceof Node||t instanceof Element)}function q(t){return t instanceof Element}function H(t){return t instanceof Node}function F(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=e.call(t);return r.test(i)}catch(t){return!1}}var $=["array","function","null","undefined","arguments","boolean","string","number","date","regexp","nodeList","htmlcollection"];function U(t){var e=[O(t),b(t),null===t,void 0===t,C(t,"Arguments"),C(t,"Boolean"),C(t,"String"),C(t,"Number"),C(t,"Date"),C(t,"RegExp"),C(t,"NodeList"),C(t,"HTMLCollection")];return $[xt(e,At(!0))]||"object"}function z(t){return t}function J(){}function B(t){return t}function X(t){return null!=t?b(t.toString)?t.toString():t+"":""}function G(t){return+t&&"number"==typeof+t?+t:t>>0}function W(t){var e=parseInt(~t.indexOf("#")?t.substr(1):t,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}}function K(t){return((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).substr(1)}function Y(t){var e=[];return x(t)||C(t,"String")?e=zn(t):null!=t&&e.push(t),e}function V(t){return-G(t)}function Z(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Q(){return tt(arguments)}function tt(t,e,n){return A(t)?i.call(t,e,n):[]}function et(t){return null!=t?O(t)||w(t)?Ot(Object.keys(t),G):Object.keys(t):[]}function nt(t,e){return void 0===e?t:function(){return t.apply(e,arguments)}}function rt(t,e,n){var r,i=t.length,o=nt(e,n);for(r=0;r<i;r++)o(t[r],r,t);return t}function it(e,n,t){return rt(et(e),(function(t){n.call(this,e[t],t,e)}),t),e}function ot(t,e,n){return A(t)?rt(t,e,n):x(t)&&null!==t?it(t,e,n):t}function at(t,e){if(A(t))return tt(t);if(x(t)&&e){var n,r,i=et(t),o={};for(n=i.length;n--;)o[r=i[n]]=t[r];return o}return T(t)?t:JSON.parse(JSON.stringify(t))}var ct=function(){};function ut(t){var e=t;if(A(t))e=tt(t).map(y(ut,Bn(T)));else if(!(T(t)||t instanceof Node)){it(t,(function(t,e){this[e]=T(t)?t:ut(t)}),e=(ct.prototype=t.constructor.prototype)!==Object.prototype?new ct:{})}return e}function st(t,e){return t.test(e)}function lt(t,e,n,r){var i=2 in arguments,o=nt(e,r);return n=i?n:Tt(t),tt(t,i?0:1).reduce(o,n)}function ft(t,e,n,r){var i=2 in arguments,o=nt(e,r);return n=i?n:St(t),tt(t,0,i?void 0:-1).reduceRight(o,n)}function ht(t,e,n){var r,i=S(e)?st:n?_e:jt,o=!1;if(A(t))for(r=t.length;r--&&!(o=i(e,t[r])););else if(x(t)){var a=et(t);for(r=a.length;r--&&!(o=i(e,t[a[r]])););}return o}function pt(t,e,n){return ht(et(t),e,n)}function dt(t,e,n){return n?t.splice(e,1):delete t[e]}function vt(t,e,n){for(var r=S(e)?st:n?_e:jt,i=O(t),o=et(t),a=0;a<o.length;a++)r(e,t[o[a]])&&dt(t,o[a],i)&&i&&(o.pop(),a--);return t}function mt(t,e,r){var n=[],i=S(e)?g(st,e):b(e)?e:At(e);return ot(at(t),(function(t,e,n){i.apply(n,arguments)&&this.push(r?e:t)}),n),n}function gt(t,e,n){return mt(t,Bn(e),n)}function yt(t,e){var n,r,i=!0;for(r=(n=et(t)).length;r--&&(i=e(t[n[r]],n[r],t)););return i}function bt(t,e){var n,r,i=!1;for(r=(n=et(t)).length;r--&&!(i=e(t[n[r]],n[r],t)););return i}function xt(t,e){var n=mt(t,e,!0);return 1===n.length?n.pop():n.length?n:null}function wt(t,e){var n=xt(t,e);return T(n)?n:n.pop()}function _t(t,e){var n=xt(t,e);return T(n)?n:n.shift()}function Et(t,e){var n=_t(t,e);return null===n?n:t[n]}function Tt(t){return A(t)?t[0]:t}function St(t){return A(t)?t[t.length-1]:t}function Ot(t,r){var e=A(t),i=e?[]:{};return(e?rt:it)(t,(function(t,e,n){i[e]=this?r.call(n,t,e,n):t[r]}),b(r)),i}function kt(e,n){var r={};return it(e,(function(t){r[n.apply(e,arguments)]=t})),r}function Nt(t,e){var n,r,i=[],o=S(e)?g(st,e):b(e)?e:At(e);if(O(t))for(n=0,r=t.length;n<r;n++)o.call(t,t[n],n,t)&&i.push(t.splice(n,1).pop(n--));else if(x(t)){var a;for(a in t)if(o.call(t,t[a],a,t)){var c={};c[a]=t[a],i.push(c),delete t[a]}}return i}function jt(t,e){return t===e}function Ct(t,e){return t!==e}function At(e){return function(t){return t===e}}function Dt(t){for(var e={},n=E(Tt(t)),r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0);return Ot(et(e),n?G:B)}function Pt(t,e){for(var n,r=tt(t),i=e?_e:jt,o=[],a=0;a<r.length;a++)if(void 0!==r[a])for(o.push(r[a]),n=a+1;n<r.length;n++)i(r[a],r[n])&&(r[n]=void 0);return o}function Lt(t,e){var n=b(e);return Ot(t,(function(t){return(n?e:t[e]).apply(t,arguments)}))}function Mt(t,e,n){var r=[],i=X(e);return ot(t,(function(t){var e=Rn(t,i,n);return void 0!==e&&this.push(e)}),r),r}function It(t,n){var e={},r=b(n);return ot(t,(function(t){var e=r?n(t):Rn(t,n);e&&(this[e]?this[e].push(t):this[e]=[t])}),e),e}function Rt(t,n){var r={},i=b(n);return ot(t,(function(t){var e=i?n(t):Rn(t,n);e&&(r[e]?this[e]+=1:this[e]=1)}),r),r}function qt(t){var e,n,r=[],i=et(t);for(e=0,n=i.length;e<n;e++)r.push([i[e],t[i[e]]]);return r}function Ht(t){var e,n,r={};for(e=0,n=t.length;e<n;e++)r[t[e][0]]=t[e][1];return r}function Ft(t){return mt(t,Bn(g(ht,ie(tt(arguments,1),!0))))}function $t(t){var n=ie(tt(arguments,1),!0);return mt(t,(function(t,e){return!ht(n,e)}))}var Ut=vt;function zt(t){for(var e,n=t.length,r=new Array(n),i=0;i<n;i++)(e=se(0,i))!==i&&(r[i]=r[e]),r[e]=t[i];return r}function Jt(t,e){var n,r,i=parseInt(G(e))||2,o=[];for(n=0,r=t.length;n<r;n+=i)o.push(t.slice(n,n+i));return o}function Bt(t){return mt(t,B)}function Xt(){return c.apply([],arguments)}function Gt(c){return function(){var t,e,n,r=[],i=!0,o=Xt.apply([],arguments),a=c?_e:jt;for(t=0;t<o.length;t++){for(n=o[t],e=0;e<o.length;e++)if(t!==e&&a(n,o[e])){i=!1;break}i&&r.push(n),i=!0}return r}}var Wt=Gt(),Kt=Gt(!0);function Yt(c){return function(){var t,e,n,r,i=tt(arguments[0]),o=arguments.length,a=[];for(t=0;t<i.length;t++)if(r=!0,!ht(a,n=i[t],c)){for(e=1;e<o;e++)if(!ht(arguments[e],n,c)){r=!1;break}r&&a.push(n)}return a}}var Vt=Yt(),Zt=Yt(!0);function Qt(t,e){return!T(t)&&!T(e)&&(C(t,"Object")&&C(e,"Object")||A(t)&&A(e))}function te(t){var e,n=tt(arguments);return O(t)?lt(n,(function(i,t){return rt(t,(function(t,e){var n=i[e],r=t;i[e]=Qt(n,r)?te(n,r):r})),e=i}),[]):x(t)&&lt(n,(function(r,i){return rt(et(i),(function(t){var e=r[t],n=i[t];r[t]=Qt(e,n)?te(e,n):n})),e=r}),{}),e}function ee(t,e){return tt(t,G(e)||1)}function ne(t,e){return tt(t,0,-(G(e)||1))}function re(t,e){var n,r=tt(t),i=void 0===this?"shift":"pop",o=S(e)?g(st,e):b(e)?e:At(e);for(n=r.length;n--&&!o(r[i]()););return r}function ie(){var t=Xt.apply([],arguments),n=!!C(St(t),"Boolean")&&t.pop();return lt(tt(t),(function(t,e){return t.concat(n&&O(e)?ie(e,n):e)}),[])}var oe="0123456789",ae="abcdefghijklmnopqrstuvwxyz",ce=ae.toUpperCase(),ue="~`!@#$%^&*(){}[]-+=_|/.,><:;";function se(t,e){return E(e)||(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function le(t,e,n){E(e)||(e=t,t=0);var r=Math.random()*(e-t)+t;return G(n)?+r.toFixed(n):r}function fe(t){return 100*Math.random()<Math.max(1,Math.min(G(t||50),99))}function he(t,e){var n=t?oe+ue:"";return(n=(e?ce:ae)+n).charAt(se(0,$n(n)-1))}function pe(t){return(t?"#":"")+K({r:se(0,255),g:se(0,255),b:se(0,255)})}function de(t,e,n){for(var r=G(t)||2,i=[];r--;)i[r]=he(e,n);return i.join("")}function ve(){var t=Un();return new Date(t+(fe()?B:V)(se(0,t)))}function me(t){return se(1,(t=0<G(t)?G(t):2)%2==0?t:t+1)}function ge(t,e){var n=tt(arguments,2),r=Tr[e]||Tr.default;return Ot(or(t,0),(function(){return r.apply(null,n)}))}function ye(i){var o=tt(arguments,1);return function(){for(var t=0,e=o.slice(),n=0,r=e.length;n<r;n++)e[n]===h&&(e[n]=arguments[t++]);for(;t<arguments.length;)e.push(arguments[t++]);return i.apply(this,e)}}function be(t,e){var n;return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function xe(t,e){return ye(be,(G(e)||1)+1)(t)}function we(t){return xe(t)}function _e(t,e){if(t===e||a.call(t)!==a.call(e)||T(t)&&T(e))return t===e;if(t.toString()===e.toString())if(O(t)){if(t.length===e.length){for(var n=t.length;n--;)if(!_e(t[n],e[n]))return!1;return!0}}else{var r=et(t),i=et(e),o=r.length;if(r.length===i.length){for(;o--;)if(!_e(t[r[o]],e[r[o]]))return!1;return!0}}return!1}var Ee=/[\t\r\n\f\x20]/g,Te=/([^&=]+)=?([^&]*)/g;function Se(t){var e={};return rt(t,(function(t){e[t.name]=t.value})),e}function Oe(t){return decodeURIComponent(t.replace(/\+/g," "))}function ke(t){return encodeURIComponent(t).replace(" ","%20")}function Ne(t){for(var e,n=X(t).split("#").shift(),r=n.indexOf("?"),i={},o=~r?n.substr(r+1):n;e=Te.exec(o);)i[Oe(e[1])]=Oe(e[2]);return delete i[o],i}function je(t){var e,n=at(t);for(e in n)n[e]=ke(x(n[e])?JSON.stringify(n[e]):n[e]);return JSON.stringify(n).replace(/["{}]/g,"").replace(/:/g,"=").replace(/,/g,"&").replace(Ee,"")}var Ce={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"$quot;","'":"&#x27;","`":"&#x60"},Ae={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#x27;":"'","&#x60;":"`"},De=/\\|'|\r|\n|\u2028|\u2029/g,Pe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Le=/[&<">'](?:(amp|lt|quot|gt|#39);)?/g,Me=/&((g|l|quo)t|amp|#39);/g,Ie=/<script\b[^>]*>(.*?)<\/script>/gi,Re=/<!--([\s\S]*?)-->/gi,qe=/[\t\r\n\f]/gim,He=/[A-Z]/g,Fe="[\\s\\x20\\xA0\\uFEFF]+",$e=new RegExp(Fe,"g"),Ue=new RegExp("^"+Fe,"g"),ze=new RegExp(Fe+"$","g"),Je=new RegExp(">"+Fe+"<","g"),Be=new RegExp("<"+Fe,"g"),Xe=new RegExp(Fe+">","g"),Ge=new RegExp("</"+Fe,"g");function We(t){return o.call(t)}function Ke(t){return t.replace(Ue,"")}function Ye(t){return t.replace(ze,"")}function Ve(t){var e=~t.search("-")?"-":~t.search("_")?"_":"";if(e){var n=1;for(e=t.split(e);n<e.length;n++)e[n]=Ze(e[n]);return e.join("")}return t}function Ze(t){return t.charAt(0).toUpperCase()+t.substr(1)}function Qe(t){return We(t).replace(qe,"").replace($e," ").replace(Je,"><").replace(Be,"<").replace(Xe,">").replace(Ge,"</")}function tn(t,e,n){var r=n?"toUpperCase":"toLowerCase",i=X(e)||"-";return t.replace(He,(function(t,e){return(0<e?i:"")+t[r]()}))}function en(t){return Ce[t]||t}function nn(t){return Ae[t]||t}function rn(t){return"\\"+Pe[t]}function on(t){return+t===t?t:X(t).replace(Le,en)}function an(t){return+t===t?t:X(t).replace(Me,nn)}function cn(t){return t.replace(Ie,"").replace(Re,"")}function un(t){return Qe(t.replace(Re,""))}var sn={escape:"{{-([\\s\\S]+?)}}",interpolate:"{{#([\\s\\S]+?)}}",command:"{{\\*([\\s\\S]+?)}}",evaluate:"{{([\\s\\S]+?)}}"},ln=/^([\S]+)\s?([\s\S]+)?/,fn=/[\[\]]*/g;function hn(t){var e=t,n=(e||"").trim(),r=n.slice(0,3),i=n.slice(0,5),o=n.slice(0,7),a=n[n.length-1];return"/if"!==n&&"/for"!==n&&"/"!==n||(e="}"),"}"!==a&&"{"!==a&&("if "===r||"if("===r?e="if("+n.slice(2)+"){":"elseif"===o||"elseif("===o||"esle if"===o?e="}else if("+n.slice(6)+"){":"elif "===i||"elif("===i?e="}else if("+n.slice(4)+"){":"else"===i&&(e="}else{")),e}function pn(t){var e="",n=ln.exec(We(t)),r=n[1],i=n[2];if(r)switch(r.toLowerCase()){case"/":case"end":case"/for":case"/each":case"/if":case"/exist":e="';}); _p+='";break;case"if":case"exist":e="'; var "+(i=i.split(" then "))[0]+" = "+i[0]+" || false; _ext("+i[0]+","+(i[1]?i[1].toString()+",":"")+"function(){ _p+='";break;case"for":case"each":e=dn("op",(i=i.split(" in "))[1],i[0]);break;case"not":case"cat":case"extend":e=vn(r,(i=i.split(" with "))[1],i[0]);break;default:e=vn(r,(i=i.split(" use "))[0],i[1]||"",!0)}return e}function dn(t,e,n){return"'; struct."+t+"()("+e+",function("+n.replace(fn,"")+"){ _p+='"}function vn(t,e,n,r){var i=t.split(":");return"'; "+(r?e+"=":"")+"struct."+i[0]+'("'+(i[1]||"")+'")('+e+","+n.replace(fn,"")+"); _p+='"}var mn={line:/[\r\n\f]/gim,quot:/\s*;;\s*/gim,space:/[\x20\xA0\uFEFF]+/gim,assert:/_p\+='(\\n)*'[^+]/gim,comment:/<!--(.*?)-->/gim,tagleft:/\s{2,}</gim,tagright:/>\s{2,}/gim};function gn(a,t,e){var n,r,c=0,u="_p+='",i,o=x(t)?e:w(t)?t:"",s=x(t)?t:{},l=tt(arguments,2),f=new RegExp(this.escape+"|"+this.interpolate+"|"+this.command+"|"+this.evaluate+"|$","g");We(a).replace(f,(function(t,e,n,r,i,o){return u+=a.slice(c,o).replace(De,rn),c=o+t.length,e?u+="'+((_t=("+e+"))==null?'':_(_t))+'":n?u+="'+((_t=("+n+"))==null?'':_t)+'":r?u+=pn(r,u):i&&(u+="';"+hn(i)+";_p+='"),t})),u=u.replace(mn.line,"").replace(mn.comment,"").replace(mn.assert,"").replace(mn.quot,";").replace(mn.space," ").replace(mn.tagright,"> ").replace(mn.tagleft," <"),u="with(__("+(o?"{}":"__({},_x_||{})")+",_bounds)){ "+u+"'; }",u="var _t,_d,_ext=struct.exist(),_=struct.html(\"encode\"),__=struct.extend(),_p=''; "+u+" return _p;";try{r=p("(function(_bounds,struct,"+(o||"_x_")+(l.length?","+l.toString():"")+"){ "+u+" })")}catch(t){throw console.error("[cubec view] Template parser Error!",{template:u}),t.res=u,t}return i=[s,h],n=function(){return We(r.apply(this,i.concat(tt(arguments))))},n}var yn=gn.bind(sn);function bn(){return Jn(yn.apply(this,arguments))}function xn(t){var r={};return rt(t?t.split(";"):[],(function(t){var e=(t||"").search("=");if(~e){var n=We(t.substr(0,e));n.length&&(r[n]=We(t.substr(e+1)))}})),r}function wn(t){var e=tt(arguments),n=e.length,r=xn(document.cookie);if(n){if(1===n)return r[t];var i=new Date;return i.setDate(i.getDate()+365),document.cookie=We(e[0]+"="+(e[1]||"")+";expires="+(e[2]||i.toUTCString())+";path="+(e[3]||"/")+";domain="+(e[4]||"")+";"+(e[5]?"secure":"")),!0}return r}var _n={"application/x-www-form-urlencoded":0,"application/json":1};function En(t,e,n){if(t)switch(e){case 0:return je(n||{});case 1:return JSON.stringify(n||{});default:return je(n||{})}return n}var Tn="CUBEC@AIXCACHE";function Sn(t){var a=d({url:"",type:"GET",param:l,charset:"utf-8",vaild:!0,cache:!1,success:J,error:J,loading:J,loadend:J,header:l,username:null,password:null,timeout:0,aysnc:!0,emulateJSON:!0,contentType:!0},t||{});b(a.param)&&(a.param=a.param());var c=a.param?x(a.param)?je(a.param):a.param:"",u=a.url||"";if(a.cache&&a.url){var e=f.localStorage,n=e.getItem(Tn);n||(n="{}",e.setItem(Tn,n));var r=JSON.parse(n)[u+"@"+c];if(void 0!==r){try{r=a.emulateJSON?JSON.parse(r):r}catch(t){}return a.sucess.call(f,r)}}var s=new XMLHttpRequest;"GET"===a.type.toUpperCase()&&a.param&&(a.url+=(~a.url.search(/\?/g)?"&":et(a.param).length?"?":"")+je(a.param),a.param=null),s.addEventListener&&(s.addEventListener("loadstart",a.loading),s.addEventListener("loadend",a.loadend)),s.open(a.type,a.url,a.aysnc,a.username,a.password);var i=x(a.header)&&a.header["Content-Type"]||"application/x-www-form-urlencoded";return void 0!==window.FormData&&a.param instanceof FormData&&(i="",a.contentType=!1,delete a.header["Content-Type"]),a.header!==l&&x(a.header)&&it(a.header,(function(t,e){s.setRequestHeader(e,t)})),"POST"===a.type.toUpperCase()&&!0===a.contentType&&-1===(i||"").search("json")&&s.setRequestHeader("Content-Type",i+";chartset="+a.charset),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.onreadystatechange=function(e){if(4===s.readyState&&s.responseText){var t=s.status;if(200<=t&&t<300||304===t){var n;try{n=a.emulateJSON?JSON.parse(s.responseText):s.responseText}catch(t){return console.error(t),a.error.call(f,s.responseText,s,e)}if(a.success.call(f,n,s,e),a.cache&&a.url){var r=f.localStorage,i=JSON.parse(r.getItem(Tn));i[u+"@"+c]=s.responseText,r.setItem(Tn,JSON.stringify(i))}}else{var o={};try{o=JSON.parse(s.responseText)}catch(t){console.error(t)}a.error.call(f,o,s,e)}}},G(a.timeout)&&(s.timeout=G(a.timeout),s.ontimeout=function(){4===s.readyState&&s.responseText||a.error.call(f,{},s),s.abort()}),s.send(a.param?x(a.param)?En(a.contentType,_n[i],a.param):a.param:null),s}function On(t){var e=d({url:"",key:"callback",param:l,timeout:5e3,error:J,success:J,callback:("structJSTP"+Math.random()).replace(".","")},t||{});b(e.param)&&(e.param=e.param());var n=e.url+"?"+je(e.param)+(et(e.param).length?"&":"")+e.key+"="+e.callback,r=document.createElement("script");r.src=n,f[e.callback]=function(t){document.head.removeChild(r,pr(e.timesetup)),f[e.callback]=null,e.success(t)},document.head.append(r),G(e.timeout)&&(e.timesetup=hr((function(){document.head.removeChild(r),f[e.callback]=null,e.error()}),e.timeout))}function kn(t,e,n,r){return b(e)&&(r=n,n=e,e=l),Sn({url:t,param:e,success:n,error:r})}function Nn(t,e,n,r){return b(e)&&(r=n,n=e,e=l),Sn({url:t,type:"POST",param:e,success:n,error:r})}var jn={},Cn=0;function An(t,e,n){var r=t._eid||0;return 0===r&&m(t,"_eid",{value:r=++Cn,writable:!1,enumerable:!1,configurable:!0}),jn[r]||(jn[r]={}),jn[r][e]||(jn[r][e]=[]),ht(jn[r][e],n)||jn[r][e].push(n),t}function Dn(t,e,n){var r=t._eid||0;return r&&jn[r]&&(jn[r][e]?vt(jn[r][e],n).length&&n||delete jn[r][e]:e||n||(delete t._eid,delete jn[r])),t}function Pn(t,e,n){var r=!1,i=t._eid||0;return i&&jn[i]&&(r=b(n)&&jn[i][e]?ht(jn[i][e],n):$n(jn[i][e])),!!r}function Ln(t,e){var n=(x(e)?e._eid:0)||0;return n&&(m(t,"_eid",{value:++Cn,writable:!1,enumerable:!1,configurable:!0}),jn[t._eid]=ut(jn[n])),t}function Mn(t,e,n){var r=[],i=t._eid||0;return n=n||[],i&&jn[i]&&""!==e&&it(jn[i][e],(function(t){r.push(t.apply(this,n))}),t),r}function In(t,e,n){return rt(X(e).split(","),(function(t){Mn(this,We(t),n)}),t),t}function Rn(t,e,n){var r,i,o,a=X(e||"").split("."),c=a.length-1;if(1===a.length)t.hasOwnProperty(e)&&(r=t[e]);else for(i=0,r=t;i<a.length;i++)if(o=T(r=r[a[i]]),i!==c&&o){r=void 0;break}if(n){var u=tt(arguments,3);b(n)?r=n.apply(r,(u.unshift(r),u)):w(n)&&(r=b(r[n])?r[n].apply(r,u):r[n])}return r}function qn(t,e,n){var r,i,o,a,c=(e||"").split(".");if(1===c.length)t[e]=n;else{for(o=0,r=t,i=c.pop();o<c.length;o++)r=null==(a=r[c[o]])?{}:a;r[i]=n}return t}function Hn(t,e){var n,r,i,o=(e||"").split(".");if(1===o.length)t.hasOwnProperty(e)&&delete t[e];else{for(r=0,n=t,i=o.pop();r<o.length;r++)n=n[o[r]];O(n)?n.splice(G(i),1):delete n[i]}return t}function Fn(t,e){return 1<G(e)?tt(zt(t),0,G(e)):t[se($n(t)-1)]}function $n(t){return b(t)||null==t||D(t)?0:E(t.length)?t.length:x(t)?et(t).length:0}function Un(){return(new Date).getTime()}function zn(t,e){var n=[],r=w(e);return C(t,"String")?t.split(""):(ot(t,(function(t){n.push(r?Rn(t,e):t)})),n)}function Jn(n,r){var i,o=[];return function(){var t,e=tt(arguments);for(i=o.length;i--;)if(_e(o[i][0],e))return o[i][1];return o.push([e,t=n.apply(r||this,e)]),t}}function Bn(t,e){var n=S(t)?g(st,t):t;return b(n)?function(){return!n.apply(e,arguments)}:g(Ct,n).bind(e)}function Xn(){var e=tt(arguments);return function(t){return lt(e,(function(t,e){return e(t)}),t)}}function Gn(t,e){if(x(t)&&w(e)&&e){var n=Rn(t,e);return n.sort.apply(n,tt(arguments,2)),t}return O(t)?t.sort.apply(t,tt(arguments,1)):t}function Wn(t){for(var e,n,r=0,i=t.length;r<i;r++){for(e=t[r],n=r-1;0<=n&&t[n]>e;)t[n+1]=t[n],n--;t[n+1]=e}return t}function Kn(t,e){return x(t)&&w(e)&&e?(Wn(Rn(t,e)),t):O(t)?Wn(t):t}function Yn(t,e,n){for(var r=t[n],i=e,o=e;i<n;i++)t[i]<r&&Z(t,i,o,o++);return Z(t,n,o),o}function Vn(t,e,n){if(!(n<e)){var r=Yn(t,e,n);Vn(t,e,r-1),Vn(t,r+1,n)}}function Zn(t){return Vn(t,0,t.length-1),t}function Qn(t,e){return x(t)&&!O(t)&&w(e)?(Zn(Rn(t,e)),t):O(t)?Zn(t):t}function tr(t){var e=tt(arguments,1);t&&St(e).apply(this,e)}function er(){return rt(Q.apply(null,arguments),Object.freeze).pop()}function nr(t,e,n){var r;return function(){r||hr((t.apply((r=1,n),arguments),function(){r=0}),e)}}function rr(){return new ir(arguments)}function ir(t){m(this,{"-":{value:0 in t?t:void 0,writable:!0,enumerable:!1,configurable:!1},"=":{value:[],writable:!1,enumerable:!1,configurable:!1}})}function or(t,e){var n,r=[];for(n=0;n<t;n++)r[n]=e;return r}function ar(t,n){var r={};return O(t)&&O(n)&&rt(t,(function(t,e){r[t]=n[e]})),r}ir.prototype.value=function(){return Xn.apply(null,this["="].splice(0,$n(this["="]))).apply(null,void 0===this["-"]?arguments:this["-"])};var cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ur=f.btoa||function(t){for(var e,n,r=X(t),i="",o=0,a=cr;r.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&e>>8-o%1*8)){if(255<(n=r.charCodeAt(o+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return i},sr=f.atob||function(t){var e=X(t).replace(/[=]+$/,""),n="";if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,a=0,c=cr;i=e.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?n+=String.fromCharCode(255&r>>(-2*o&6)):0)i=c.indexOf(i);return n};function lr(t){return ur(unescape(encodeURIComponent(X(t))))}function fr(t){return decodeURIComponent(escape(sr(X(t).replace(/\s/g,""))))}function hr(t){return window.Promise?window.Promise.resolve().then(t):setTimeout(t,0)}function pr(t){clearTimeout(t)}var dr={obj:x,object:x,arr:O,array:O,arraylike:A,str:w,string:w,bool:_,boolean:_,num:E,number:E,fn:b,func:b,nan:D,prim:T,primitive:T,idt:N,identifier:N,def:C,define:C,int:P,float:L,double:L,date:M,ept:I,empty:I,dom:R,elm:q,element:q,node:H,text:H,native:F,need:j,require:j,required:j,type:U,default:U},vr={str:X,string:X,num:G,number:G,arr:Y,array:Y,hex:K,rgb:W,minus:V,default:X},mr={arr:rt,array:rt,obj:it,object:it,each:ot,default:ot},gr={key:pt,index:pt,exist:ht,default:ht},yr={first:_t,last:wt,single:Et,one:Et,index:xt,default:xt},br={key:kt,hook:Lt,map:Ot,default:Ot},xr={fast:Dt,slim:Pt,default:Pt},wr={un:Ht,unpair:Ht,pair:qt,default:qt},_r={at:$t,with:Ut,all:Ft,default:Ft},Er={left:ee,right:ne,lefto:re,leftto:re,righto:re.bind(!0),rightto:re.bind(!0),default:ee},Tr={int:se,float:le,double:le,str:de,word:de,string:de,bool:fe,boolean:fe,char:he,letter:he,character:he,arr:ge,array:ge,date:ve,hex:pe,dice:me,default:Math.random},Sr={parse:Ne,str:je,stringify:je,serialize:je,query:Se,requery:Se,default:Ne},Or={encode:on,decode:an,strip:cn,zip:un,default:Xn(cn,un)},kr={trim:We,trimleft:Ke,trimright:Ye,came:Ve,camelize:Ve,capit:Ze,capitalize:Ze,collapse:Qe,rize:tn,rizewith:tn,default:X},Nr={get:kn,fetch:kn,put:Nn,post:Nn,jsonp:On,cors:On,ajax:Sn,default:Sn},jr={on:An,add:An,bind:An,off:Dn,remove:Dn,unbind:Dn,has:Pn,exist:Pn,copy:Ln,extend:Ln,emit:In,trigger:In,dispatch:In,default:In},Cr={get:Rn,set:qn,rm:Hn,not:Hn,remove:Hn,default:Rn},Ar={a2b:sr,atob:sr,btoa:ur,b2a:ur,utob:lr,u2b:lr,btou:fr,b2u:fr,default:sr},Dr={left:lt,right:ft,default:lt},Pr={native:Gn,q:Qn,i:Kn,quick:Qn,insert:Kn,default:Gn},Lr={fast:Wt,slim:Kt,default:Wt},Mr={fast:Vt,slim:Zt,default:Vt},Ir={axt:bn,cache:bn,default:yn},Rr={chain:rr,define:m,extend:d,depextend:v,keys:et,noop:J,clone:at,fireEvent:Mn,cloneDeep:ut,depclone:ut,not:vt,cat:Nt,slice:tt,find:mt,filter:mt,reject:gt,every:yt,some:bt,chunk:Jt,compact:Bt,pluck:Mt,groupBy:It,countBy:Rt,concat:Xt,cast:Q,shuffle:zt,first:Tt,last:St,flat:ie,merge:te,auto:Fn,part:xe,once:we,eq:_e,cookie:wn,values:zn,memoize:Jn,negate:Bn,link:Xn,size:$n,now:Un,exist:tr,lock:er,cool:B,hz:nr,fill:or,combined:ar,ayc:hr,cyc:pr,v8:z},qr={op:mr,each:mr,map:br,has:gr,diff:Lr,intsec:Mr,type:dr,sort:Pr,html:Or,unique:xr,convert:vr,pull:_r,param:Sr,ajax:Nr,event:jr,prop:Cr,drop:Er,pairs:wr,index:yr,random:Tr,string:kr,reduce:Dr,assembly:Ar,doom:Ir};it(Rr,(function(t,e){ir.prototype[e]=function(){return this["="].push(t),this},u(t,e)})),it(qr,(function(e,t){ir.prototype[t]=function(t){return this["="].push(e[We(X(t).toLowerCase())]),this},s(er(e),t)})),h.root=f,h.broken=l,h.toString=X,h.prototype=h.__proto__=null;var Hr=er(z(h));function Fr(t){if(Array.isArray(t))return t}var $r=Fr;function Ur(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}var zr=Ur;function Jr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Br=Jr;function Xr(t,e){return $r(t)||zr(t,e)||Br()}var Gr=Xr,Wr={DEFAULT_OPTION:{data:{},verify:{},emulateJSON:!0},IGNORE_KEYWORDS:["name","data","store","change","events","verify","filter","lock"],EMULATEHTTP:{get:"GET",send:"GET",post:"POST",sync:"POST",put:"POST",delete:"POST",patch:"POST",fetch:"GET"}},Kr={MODEL_UNEXPECT:"unexpect c.model with only data that accepts a standard JSON type object.",VIEW_MISSING_ROOT:"unexpect c.view must defined real root element node",ATOM_UNDEFINED_MODELNAME:"unexpect model name that atom can find it",ATOM_MISSING_MODELINSTANCE:"can not find target modal with atom.swap"},Yr=window.localStorage,Vr="CUBEC@",Zr=function(t){return t.split("").reverse().join("")},Qr={t:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ram:{},kAt:function(t,e){return t.charCodeAt(~~(e%t.length))},ecd:function(t){var e,n,r,i,o,a,c=0,u="";if(!t)return t;for(;e=(o=t[c++]<<16|t[c++]<<8|t[c++])>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,u+=this.t.charAt(e)+this.t.charAt(n)+this.t.charAt(r)+this.t.charAt(i),c<t.length;);return((a=t.length%3)?u.slice(0,a-3):u)+"===".slice(a||3)},dcd:function(t){var e,n,r,i,o,a,c=0,u=[];if(!t)return t;for(t+="";e=(a=this.t.indexOf(t.charAt(c++))<<18|this.t.indexOf(t.charAt(c++))<<12|(i=this.t.indexOf(t.charAt(c++)))<<6|(o=this.t.indexOf(t.charAt(c++))))>>16&255,n=a>>8&255,r=255&a,u.push(e),64!==i&&(u.push(n),64!==o&&u.push(r)),c<t.length;);return u},incry:function(t,e){for(var n=0,r=t.length,i=[];n<r;n++)i[n]=t[n].charCodeAt(0)^this.kAt(e,n);return this.ecd(i)},decyt:function(t,e){for(var n=0,r=(t=this.dcd(t)).length;n<r;n++)t[n]=String.fromCharCode(t[n]^this.kAt(e,n));return t.join("")},set:function(t,e){Yr.setItem(Vr+this.incry(t,Zr(t)),this.incry(encodeURIComponent(JSON.stringify(e)),t))},get:function(t){var e=Yr.getItem(Vr+this.incry(t,Zr(t)));return e?JSON.parse(decodeURIComponent(this.decyt(e,t))):0},rm:function(t){Yr.removeItem(Vr+this.incry(t,Zr(t)))}};function ti(t,e){return this.on(e,t)}var ei=Hr.each("object"),ni=Hr.define();function ri(n,t){return ei(t,(function(t,e){ni(n,e,{value:t,writable:!1,enumerable:!1,configurable:!1})})),n}var ii=Hr.broken,oi=Hr.keys(),ai=Hr.prop("get"),ci=Hr.convert("string"),ui=Hr.type();function si(t,e){if(!e._v)return!0;for(var n,r,i,o=e._asv(ii),a=[],c=oi(o),u=0,s=c.length;u<s;u++)if(!(0,o[c[u]])(n=ai(t,c[u]))){a.push(c[u],n),console.error("model of key ( ".concat(c[u]," ) except error with model verify => ").concat(ui(n).toUpperCase()," [ ").concat(ci(n)," ]")),i=c[u];break}return(r=!a.length)||(e.emit("catch:verify",a),e.emit("catch:verify:".concat(i),a)),r}var li=Hr.broken,fi=Hr.prop("set"),hi=Hr.keys(),pi=Hr.prop("get"),di=Hr.find(),vi=Hr.convert("string"),mi=Hr.type();function gi(t,e,n){if(!n._v)return!0;for(var r,i,o,a=n._asv(li),c=fi(n.get(),t,e),u=hi(a),s=new RegExp("^(".concat(t.replace(".","\\."),"|(").concat(t.replace(".","\\."),"\\.[^sS]*))$"),"m"),l=di(u,s),f=[],h=0,p=l.length;h<p;h++)if(!(0,a[o=l[h]])(i=pi(c,o))){f.push(o,i),console.error("model of key ( ".concat(l[h]," ) except error with model verify => ").concat(mi(i).toUpperCase()," [ ").concat(vi(i)," ]"));break}return(r=!f.length)||(n.emit("catch:verify",f),n.emit("catch:verify:".concat(o),f)),r}var yi=Hr.broken;function bi(t){var e=t._asl(yi);return e&&t.emit("catch:lock"),e}var xi=Hr.ajax();function wi(t,e,n,r,i,o){if(bi(this))return this;var a={url:e||this.url||"",type:Wr.EMULATEHTTP[t],async:!0,cache:this.cache||!1,emulateJSON:this.emulateJSON,param:n||this.param||{},header:o||this.header||{}};return"POST"===a.type&&this.emulateJSON&&(a.header["Content-Type"]="application/json"),a.header["X-HTTP-Method-Override"]=t,a.success=function(){try{r.apply(this,arguments)}catch(t){return console.error(t),this.emit("catch",[t])}this.emit(t+":success",arguments)}.bind(this),a.error=function(){try{i.apply(this,arguments)}catch(t){return console.error(t),this.emit("catch",[t])}this.emit(t+":error",arguments)}.bind(this),this.emit(t,[xi(a),a])}var _i=Hr.ajax();function Ei(r,i,o,a){var c=this;return bi(this)?this:new Promise(function(e,n){var t={url:i||c.url||"",type:Wr.EMULATEHTTP[r],async:!0,cache:c.cache||!1,emulateJSON:c.emulateJSON,param:o||c.param||{},header:a||c.header||{}};t.header["X-HTTP-Method-Override"]=r,t.success=function(t){e(t)},t.error=function(t){n(t)},c.emit(r,[_i(t),t])})}var Ti=Hr.each("array"),Si=Hr.each("object"),Oi=Hr.type("object"),ki=Hr.type("arraylike"),Ni=function n(t,r,e){var i=e||[];return null!=t&&(ki(t)?Ti(t,(function(t){n(t,r,i)})):Oi(t)&&Si(t,(function(t,e){e===r&&i.push(t),n(t,r,i)}))),i},ji=function(e,t){var n={};return Ti(t,(function(t){n[t]=Ni(e,t)})),n},Ci=Hr.each("object"),Ai=Hr.each("array"),Di=Hr.keys();function Pi(r){var t=[],n=0,i=Di(r);Ci(r,(function(t,e){n=t.length>n?t.length:n}));for(var e=function(e){var n={};Ai(i,(function(t){n[t]=r[t][e]})),t.push(n)},o=0;o<n;o++)e(o);return t}var Li=Hr.type("func"),Mi=Hr.type("arraylike"),Ii=Hr.type("string"),Ri=Hr.event("on"),qi=Hr.event("off"),Hi=Hr.event("emit");function Fi(t,e){return Li(e)&&Ii(t)&&Ri(this,t,e),this}function $i(t,e){return qi(this,t,e)}function Ui(t,e){return Hi(this,t,Mi(e)?e:[])}var zi=0,Ji=/^change:([a-zA-Z0-9_$.]+)$/,Bi=/^change:/,Xi=Hr.broken,Gi=Hr.extend(),Wi=Hr.clone(),Ki=Hr.type("string"),Yi=Hr.type("bool"),Vi=Hr.type("object"),Zi=Hr.type("array"),Qi=Hr.type("prim"),to=Hr.type("func"),eo=Hr.each("object"),no=Hr.each("array"),ro=Hr.cool(),io=Hr.size(),oo=Hr.prop("get"),ao=Hr.prop("set"),co=Hr.prop("rm"),uo=Hr.merge(),so=Hr.noop(),lo=Hr.slice(),fo=Hr.not(),ho=Hr.eq(),po=Hr.event("has");function vo(){var t=lo(arguments),e={};try{1<t.length?no(t,(function(t){return e=uo(e,t)})):e=t[0]}catch(t){return console.error("[cubec model] the fetch data with parse error, please check server response data format with model-{ catch } event!"),this.emit("catch",[t]),!1}return e}var mo=function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Gi(Wi(Wr.DEFAULT_OPTION),t);if(!Vi(e.data)||Zi(e.data))throw new Error(Kr.MODEL_UNEXPECT);var r=e.events,i=e.verify,o=Ki(e.name),a=Yi(e.store)&&e.store&&o,c=this.isLock=!!e.lock,u=[],s=[],l=e.data||{},f=a&&Qr.get(e.name)||l;l=Wi(f),eo(r,ti,ri(this,{name:o?e.name:void 0,_ast:function(t,e){var n=to(t)?t:ro;return e===Xi?n(l):{}},_mid:zi++,_asl:function(t){return t===Xi?c:null},_asv:function(t){return t===Xi?i:{}},_ash:function(t){return t===Xi?u:[]},_asc:function(t){return t===Xi?s:[]},_v:!!io(i),_l:function(t,e){return e===Xi?n.isLock=c=!!t:void 0},_c:function(t,e){return e===Xi?l=t:{}},_s:a})),o&&(Qr.ram[this.name]=this),Gi(this,e,Wr.IGNORE_KEYWORDS).emit("init").off("init")};function go(i,o,a,t){var c=[],e=i._asc(Xi);if(i.emit("change",[o,a]),e.length)if(t&&Ki(t)){var u="change:".concat(t),s=new RegExp("^".concat(u,"\\.([a-zA-Z_$0-9])+"));no(e,(function(t){if(u===t||s.test(t)){var e=t.replace(Bi,""),n=oo(o,e),r=oo(a,e);ho(n,r)||c.push([t,[n,r]])}}))}else no(e,(function(t){var e=t.replace(Bi,""),n=oo(o,e),r=oo(a,e);ho(n,r)||c.push([t,[n,r]])}));return no(c,(function(t){var e=Gr(t,2),n=e[0],r=e[1];i.emit(n,r)})),i}function yo(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}mo.prototype={constructor:mo,emit:Ui,on:function(t){if(t&&Ki(t)){if(Ji.test(t)){var e=this._asc(Xi);-1===e.indexOf(t)&&e.push(t)}return Fi.apply(this,arguments)}},off:function(t,e){$i.apply(this,arguments);var n=this._asc(Xi);return t&&Ki(t)&&Ji.test(t)&&-1<=n.indexOf(t)&&!po(this,t)?fo(n,t):null==t&&n.splice(0,n.length),this},lock:function(){return this._l(!0,Xi),this.emit("lock")},unlock:function(){return this._l(!1,Xi),this.emit("unlock")},get:function(t,e){var n=this._ast(ro,Xi);return Wi(t||0===t?oo(n,t,e):n)},set:function(t,e,n){if(bi(this))return this;var r,i=this._ast(ro,Xi),o=this._ash(Xi),a=arguments.length,c=!Qi(t)&&Vi(t);if(a)if(c){if(n=e,(r=t)&&!ho(i,r)&&si(r,this)){var u=Wi(i);if(this.history&&o.push(Wi(i)),this._c(r,Xi,this.change=!0),this._s&&Qr.set(this.name,r),!n)go(this,Wi(r),u)}}else if(!ho(oo(i,t),e)&&gi(t,e,this)){var s=Wi(i);if(this.history&&o.push(Wi(i)),ao(i,t,e,this.change=!0),this._s&&Qr.set(this.name,i),!n)go(this,Wi(i),s,t)}return this},remove:function(t,e){if(bi(this))return this;var n=this._ast(ro,Xi),r=this._ash(Xi);if(Qi(t)&&null!=t){var i=Wi(n);if(this.history&&r.push(Wi(n)),co(n,t),this._s&&Qr.set(this.name,n),!e){var o=Wi(n);this.emit("remove:"+t),go(this,o,i,t)}}return this},clear:function(t){var e={};return this.set(e,t),this._ast(ro,Xi)!==e||t||this.emit("clear"),this},back:function(t){if(bi(this)||!this.history)return this;var e,n=this._ash(Xi);if(n.length&&(e=n.pop())){var r=this.get();if(this._c(e,Xi,this.change=!0),!t){var i=Wi(e);this.emit("back",[i]),go(this,i,r)}}return this},toJSON:function(){return JSON.stringify(this.get())},ajax:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=uo({type:"get",async:!0,success:so,error:so},t);return wi.call(this,e.type,e.url,e.param,e.success,e.error,e.header)},fetch:function(t,n){var r=this;t=t||this.param;var i=[],e=Zi(this.url)?this.url:Ki(this.url)?[this.url]:[],o=Zi(t)?t:Vi(t)?[t]:[],a=this.parse||vo;return no(e,(function(t,e){i.push(Ei.call(r,"fetch",t,o[e],n))})),1===i.length?i[0].then((function(t){var e=a.call(r,t);e&&(r.emit("fetch:success",[e]),r.set(e))}),(function(t){r.emit("fetch:error",[t]),console.error(t)})).catch((function(t){r.emit("catch",[t]),console.error(t)})):1<i.length&&Promise.all(i).then((function(t){var e=a.apply(r,t);e&&(r.emit("fetch:success",[e]),r.set(e))}),(function(t){r.emit("fetch:error",[t]),console.error(t)})).catch((function(t){r.emit("catch",[t]),console.error(t)})),this},sync:function(t,e){return Ki(t)?wi.call(this,"sync",t,this.get(),so,so,e):this},merge:function(t,e){return t instanceof mo&&(t=t.get()),Vi(t)&&null!=t&&this.set(uo(this.get(),t),e),this},transTo:function(t,e,n){to(e)&&(n=e,e=!1);var r=to(n)?n:ro;return t instanceof mo&&t.set(r(this.get()),e),this},seek:function(t,e){if(t&&(Ki(t)&&(t=[t]),Zi(t))){var n=ji(this.get(),t);return e?Pi(n):n}return{}}};var bo=yo;function xo(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var wo=xo;function _o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Eo=_o;function To(t){return bo(t)||wo(t)||Eo()}var So=To;function Oo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ko=Oo,No={DEFAULT_OPTION:{use:[]},IGNORE_KEYWORDS:["use","events","assert"]},jo=Hr.cool(),Co=Hr.type("string"),Ao=Hr.type("array"),Do=Hr.each("array"),Po=Hr.broken;function Lo(t,e){var n=this,r=this._assert(jo,Po),i=Co(t)?[t]:Ao(t)?t:[];return Do(i,(function(t){return e.call(n,r,t)})),this}function Mo(e){return function(t){return t.name===e}}var Io=Hr.type(),Ro=Hr.each("array");function qo(t,e){var n=[];switch(Io(e)){case"regexp":Ro(t,(function(t){return e.test(t.name)&&n.push(t)}));break;case"string":n.push(e);break;case"array":n=e;break;case"function":Ro(t,(function(t){return e(t)&&n.push(t)}))}return n}function Ho(e,n){return function(t){return t[e].apply(t,n)}}var Fo=Hr.extend(),$o=Hr.clone(),Uo=Hr.slice(),zo=Hr.has(),Jo=Hr.index(),Bo=Hr.index("one"),Xo=Hr.type("number"),Go=Hr.type("function"),Wo=Hr.type("string"),Ko=Hr.type("boolean"),Yo=Hr.type("array"),Vo=Hr.type("arraylike"),Zo=Hr.cool(),Qo=Hr.every(),ta=Hr.each("array"),ea=Hr.map(),na=Hr.size(),ra=Hr.broken,ia=Hr.noop(),oa=function(t){return t instanceof mo},aa=0,ca=function(t,e,n,r){var i=Jo(t,Wo(e)?Mo(e):e);if(Xo(i)){var o=t.splice(i,1).pop();oa(o)&&n&&o.off("change",r)}},ua=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Fo($o(No.DEFAULT_OPTION),t),n=!!e.connect,r=function(){this.transmit()}.bind(this),i=[];ri(this,{_mid:"_at"+aa++,_assert:function(t,e){return e===ra?t(i):[]},_transmit:function(t){return t===ra?r:ia},_connecty:function(t){return t===ra?n:null}}),Fo(this.use(e.use,!0),e,No.IGNORE_KEYWORDS)},sa=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length?arguments[2]:void 0,r=new ua({use:e,connect:n});return r.back=function(){return t},r};ua.prototype={constructor:ua,all:function(){return this._assert(Uo,ra)},use:function(t,e){var n=this._assert(Zo,ra),r=this._transmit(ra),i=this._connecty(ra),o=n.length;return oa(t)&&!zo(n,t)?(n.push(t),i&&t.on("change",r)):Vo(t)&&Qo(t,oa)?ta(t,(function(t){zo(n,t)||(n.push(t),i&&t.on("change",r))})):(Wo(t)||Yo(t)&&Qo(t,Wo))&&Lo.call(this,t,(function(t,e,n){(n=Qr.ram[e])&&!zo(t,n)&&(t.push(n),i&&n.on("change",r))})),o===n.length||e||this.transmit(),this},transmit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=this.toChunk();return Wo(this.preset)&&this.preset&&(e=ko({},this.preset,e)),Ui.call(this,"change",[e].concat(So(t)))},out:function(t,e){var n=this._assert(Zo,ra),r=this._connecty(ra),i=this._transmit(ra),o=n.length;return oa(t)&&!zo(n,t)?ca(n,t,r,i):Vo(t)&&Qo(t,oa)?ta(t,(function(t){ca(n,t,r,i)})):(Wo(t)||Yo(t)&&Qo(t,Wo))&&Lo.call(this,t,(function(t,e){ca(t,e,r,i)})),o===n.length||e||this.transmit(),this},getModelByNames:function(t){var e,n=this;return null==t?e=this.all():Wo(t)?e=Bo(this.all(),Mo(t)):Yo(t)&&na(t)&&(e=ea(t,(function(t){return n.getModelByNames(t)})),1===na(e)&&(e=e[0])),e},of:function(t,e){return ta(this.all(),Go(t)?t:Ho(t,e)),this},swap:function(t,e,n){if(!(t&&e&&Wo(t)&&Wo(e)))throw new Error(Kr.ATOM_UNDEFINED_MODELNAME);var r=this.getModelByNames(t),i=this.getModelByNames(e);if(!r||!i)throw new Error(Kr.ATOM_MISSING_MODELINSTANCE);var o=r.get();return r.set(i.get(),n),i.set(o,n),this},select:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return sa(this,qo(this.all(),t),e)},subscribe:function(t){return Go(t)&&Fi.call(this,"change",t),this},unsubscribe:function(t){return Ko(t)&&t?$i.call(this,"change"):Go(t)&&$i.call(this,"change",t),this},reset:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.unsubscribe(!0),this.out(this.all(),t),this},toData:function(){return ea(this._assert(Zo,ra),(function(t){return t.get()}))},toChunk:function(){var e={};return this.of((function(t){t.name&&(e[t.name]=t.get())})),e}};var la={DEFAULT_OPTION:{props:{}},IGNORE_KEYWORDS:["root","render","model","connect","events","template"]},fa=[],ha=window.document,pa=Object.getPrototypeOf,da=fa.slice,va=fa.concat,ma=fa.push,ga=fa.indexOf,ya={},ba=ya.toString,xa=ya.hasOwnProperty,wa=xa.toString,_a=wa.call(Object),Ea={},Ta=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Sa=function(t){return null!=t&&t===t.window},Oa={type:!0,src:!0,noModule:!0};function ka(t,e,n){var r,i=(e=e||ha).createElement("script");if(i.text=t,n)for(r in Oa)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function Na(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ya[ba.call(t)]||"object":typeof t}var ja="3.3.2 for cubec",Ca=function(t,e){return new Ca.fn.init(t,e)};function Aa(t){var e=!!t&&"length"in t&&t.length,n=Na(t);return!Ta(t)&&!Sa(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}Ca.fn=Ca.prototype={jquery:ja,constructor:Ca,length:0,get:function(t){return null==t?da.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Ca.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Ca.each(this,t)},map:function(n){return this.pushStack(Ca.map(this,(function(t,e){return n.call(t,e,t)})))},slice:function(){return this.pushStack(da.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},push:ma,sort:fa.sort,splice:fa.splice},Ca.extend=Ca.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},c=1,u=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[c]||{},c++),"object"==typeof a||Ta(a)||(a={}),c===u&&(a=this,c--);c<u;c++)if(null!=(t=arguments[c]))for(e in t)n=a[e],a!==(r=t[e])&&(s&&r&&(Ca.isPlainObject(r)||(i=Array.isArray(r)))?(o=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&Ca.isPlainObject(n)?n:{},a[e]=Ca.extend(s,o,r)):void 0!==r&&(a[e]=r));return a},Ca.extend({expando:"jQuery"+(ja+Math.random()).replace(/\D/g,""),isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ba.call(t))&&(!(e=pa(t))||"function"==typeof(n=xa.call(e,"constructor")&&e.constructor)&&wa.call(n)===_a)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){ka(t)},each:function(t,e){var n,r=0;if(Aa(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(Aa(Object(t))?Ca.merge(n,"string"==typeof t?[t]:t):ma.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ga.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(Aa(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return va.apply([],a)},guid:1,support:Ea}),"function"==typeof Symbol&&(Ca.fn[Symbol.iterator]=fa[Symbol.iterator]),Ca.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){ya["[object "+e+"]"]=e.toLowerCase()}));var Da=ha.documentElement,Pa,La,Ma=Ca.expando.split("").sort(Ha).join("")===Ca.expando,Ia=Da.matches||Da.webkitMatchesSelector||Da.mozMatchesSelector||Da.oMatchesSelector||Da.msMatchesSelector,Ra=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,qa=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};function Ha(t,e){if(t===e)return Pa=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)?t===ha||t.ownerDocument===ha&&Ca.contains(ha,t)?-1:e===ha||e.ownerDocument===ha&&Ca.contains(ha,e)?1:La?ga.call(La,t)-ga.call(La,e):0:4&n?-1:1)}function Fa(t){var e,n=[],r=0,i=0;if(Pa=!1,La=!Ma&&t.slice(0),t.sort(Ha),Pa){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return La=null,t}function $a(t){return(t+"").replace(Ra,qa)}Ca.extend({uniqueSort:Fa,unique:Fa,escapeSelector:$a,find:function(t,e,n,r){var i,o,a=0;if(n=n||[],!t||"string"!=typeof t)return n;if(1!==(o=(e=e||ha).nodeType)&&9!==o)return[];if(r)for(;i=r[a++];)Ca.find.matchesSelector(i,t)&&n.push(i);else Ca.merge(n,e.querySelectorAll(t));return n},contains:function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),Ca.extend(Ca.find,{matches:function(t,e){return Ca.find(t,null,null,e)},matchesSelector:function(t,e){return Ia.call(t,e)},attr:function(t,e){var n=Ca.expr.attrHandle[e.toLowerCase()],r=n&&xa.call(Ca.expr.attrHandle,e.toLowerCase())?n(t,e,Ca.isXMLDoc(t)):void 0;return void 0!==r?r:t.getAttribute(e)}});var Ua=Ca.expr.match.needsContext;function za(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var Ja=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ba(t,n,r){return Ta(n)?Ca.grep(t,(function(t,e){return!!n.call(t,e,t)!==r})):n.nodeType?Ca.grep(t,(function(t){return t===n!==r})):"string"!=typeof n?Ca.grep(t,(function(t){return-1<ga.call(n,t)!==r})):Ca.filter(n,t,r)}Ca.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Ca.find.matchesSelector(r,t)?[r]:[]:Ca.find.matches(t,Ca.grep(e,(function(t){return 1===t.nodeType})))},Ca.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(Ca(t).filter((function(){for(e=0;e<r;e++)if(Ca.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)Ca.find(t,i[e],n);return 1<r?Ca.uniqueSort(n):n},filter:function(t){return this.pushStack(Ba(this,t||[],!1))},not:function(t){return this.pushStack(Ba(this,t||[],!0))},is:function(t){return!!Ba(this,"string"==typeof t&&Ua.test(t)?Ca(t):t||[],!1).length}});var Xa,Ga=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Wa=Ca.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Xa,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):Ta(t)?void 0!==n.ready?n.ready(t):t(Ca):Ca.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Ga.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof Ca?e[0]:e,Ca.merge(this,Ca.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:ha,!0)),Ja.test(r[1])&&Ca.isPlainObject(e))for(r in e)Ta(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=ha.getElementById(r[2]))&&(this[0]=i,this.length=1),this};Wa.prototype=Ca.fn,Xa=Ca(ha),Ca.fn.extend({index:function(t){return t?"string"==typeof t?ga.call(Ca(t),this[0]):ga.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1}});var Ka=/[^\x20\t\r\n\f]+/g,Ya=function(t,e,n,r,i,o,a){var c=0,u=t.length,s=null==n;if("object"===Na(n))for(c in i=!0,n)Ya(t,e,c,n[c],!0,o,a);else if(void 0!==r&&(i=!0,Ta(r)||(a=!0),s&&(e=a?(e.call(t,r),null):(s=e,function(t,e,n){return s.call(Ca(t),n)})),e))for(;c<u;c++)e(t[c],n,a?r:r.call(t[c],c,e(t[c],n)));return i?t:s?e.call(t):u?e(t[0],n):o},Va=/^-ms-/,Za=/-([a-z])/g;function Qa(t,e){return e.toUpperCase()}function tc(t){return t.replace(Va,"ms-").replace(Za,Qa)}var ec=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function nc(){this.expando=Ca.expando+nc.uid++}nc.uid=1,nc.prototype={cache:function(t){var e=t[this.expando];return e||(e={},ec(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[tc(e)]=n;else for(r in e)i[tc(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][tc(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(tc):(e=tc(e))in r?[e]:e.match(Ka)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||Ca.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Ca.isEmptyObject(e)}};var rc=new nc,ic=new nc,oc=function(t){return Ca.contains(t.ownerDocument,t)},ac=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,cc=/^$|^module$|\/(?:java|ecma)script/i,uc={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function sc(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&za(t,e)?Ca.merge([t],n):n}function lc(t,e){for(var n=0,r=t.length;n<r;n++)rc.set(t[n],"globalEval",!e||rc.get(e[n],"globalEval"))}uc.optgroup=uc.option,uc.tbody=uc.tfoot=uc.colgroup=uc.caption=uc.thead,uc.th=uc.td;var fc=/<|&#?\w+;/;function hc(t,e,n,r,i){for(var o,a,c,u,s,l,f=e.createDocumentFragment(),h=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===Na(o))Ca.merge(h,o.nodeType?[o]:o);else if(fc.test(o)){for(a=a||f.appendChild(e.createElement("div")),c=(ac.exec(o)||["",""])[1].toLowerCase(),u=uc[c]||uc._default,a.innerHTML=u[1]+Ca.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;Ca.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(r&&-1<Ca.inArray(o,r))i&&i.push(o);else if(s=oc(o),a=sc(f.appendChild(o),"script"),s&&lc(a),n)for(l=0;o=a[l++];)cc.test(o.type||"")&&n.push(o);return f}var pc=/^key/,dc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vc=/^([^.]*)(?:\.(.+)|)/;function mc(){return!0}function gc(){return!1}function yc(){try{return ha.activeElement}catch(t){}}function bc(t,e,n,r,i,o){var a,c;if("object"==typeof e){for(c in"string"!=typeof n&&(r=r||n,n=void 0),e)bc(t,c,n,r,e[c],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=gc;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return Ca().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=Ca.guid++)),t.each((function(){Ca.event.add(this,e,i,r,n)}))}Ca.event={global:{},add:function(e,t,n,r,i){var o,a,c,u,s,l,f,h,p,d,v,m=rc.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&Ca.find.matchesSelector(Da,i),n.guid||(n.guid=Ca.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==Ca&&Ca.event.triggered!==t.type?Ca.event.dispatch.apply(e,arguments):void 0}),s=(t=(t||"").match(Ka)||[""]).length;s--;)p=v=(c=vc.exec(t[s])||[])[1],d=(c[2]||"").split(".").sort(),p&&(f=Ca.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Ca.event.special[p]||{},l=Ca.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ca.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),Ca.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,c,u,s,l,f,h,p,d,v,m=rc.hasData(t)&&rc.get(t);if(m&&(u=m.events)){for(s=(e=(e||"").match(Ka)||[""]).length;s--;)if(p=v=(c=vc.exec(e[s])||[])[1],d=(c[2]||"").split(".").sort(),p){for(f=Ca.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],c=c[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||c&&!c.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,d,m.handle)||Ca.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)Ca.event.remove(t,p+e[s],n,r,!0);Ca.isEmptyObject(u)&&rc.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,c=Ca.event.fix(t),u=new Array(arguments.length),s=(rc.get(this,"events")||{})[c.type]||[],l=Ca.event.special[c.type]||{};for(u[0]=c,e=1;e<arguments.length;e++)u[e]=arguments[e];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=Ca.event.handlers.call(this,c,s),e=0;(i=a[e++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((Ca.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,r,i,o,a,c=[],u=e.delegateCount,s=t.target;if(u&&s.nodeType&&!("click"===t.type&&1<=t.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==t.type||!0!==s.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?-1<Ca(i,this).index(s):Ca.find(i,this,null,[s]).length),a[i]&&o.push(r);o.length&&c.push({elem:s,handlers:o})}return s=this,u<e.length&&c.push({elem:s,handlers:e.slice(u)}),c},addProp:function(e,t){Object.defineProperty(Ca.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ta(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[Ca.expando]?t:new Ca.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==yc()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===yc()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&za(this,"input"))return this.click(),!1},_default:function(t){return za(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Ca.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Ca.Event=function(t,e){if(!(this instanceof Ca.Event))return new Ca.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?mc:gc,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Ca.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Ca.expando]=!0},Ca.Event.prototype={constructor:Ca.Event,isDefaultPrevented:gc,isPropagationStopped:gc,isImmediatePropagationStopped:gc,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=mc,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=mc,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=mc,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Ca.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&pc.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&dc.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Ca.event.addProp),Ca.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,i){Ca.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||Ca.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}})),Ca.fn.extend({on:function(t,e,n,r){return bc(this,t,e,n,r)},one:function(t,e,n,r){return bc(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Ca(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=gc),this.each((function(){Ca.event.remove(this,t,n,e)}));for(i in t)this.off(i,e,t[i]);return this}});var xc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,wc,_c;function Ec(t,e,n){for(var r,i=e?Ca.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Ca.cleanData(sc(r)),r.parentNode&&(n&&oc(r)&&lc(sc(r,"script")),r.parentNode.removeChild(r));return t}Ca.extend({htmlPrefilter:function(t){return t.replace(xc,"<$1></$2>")},cleanData:function(t){for(var e,n,r,i=Ca.event.special,o=0;void 0!==(n=t[o]);o++)if(ec(n)){if(e=n[rc.expando]){if(e.events)for(r in e.events)i[r]?Ca.event.remove(n,r):Ca.removeEvent(n,r,e.handle);n[rc.expando]=void 0}n[ic.expando]&&(n[ic.expando]=void 0)}}}),Ca.fn.extend({detach:function(t){return Ec(this,t,!0)},remove:function(t){return Ec(this,t)},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Ca.cleanData(sc(t,!1)),t.textContent="");return this}}),wc=ha.createElement("input"),_c=ha.createElement("select").appendChild(ha.createElement("option")),wc.type="checkbox",Ea.checkOn=""!==wc.value,Ea.optSelected=_c.selected,(wc=ha.createElement("input")).value="t",wc.type="radio",Ea.radioValue="t"===wc.value;var Tc,Sc=Ca.expr.attrHandle;Ca.fn.extend({attr:function(t,e){return Ya(this,Ca.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){Ca.removeAttr(this,t)}))}}),Ca.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?Ca.prop(t,e,n):(1===o&&Ca.isXMLDoc(t)||(i=Ca.attrHooks[e.toLowerCase()]||(Ca.expr.match.bool.test(e)?Tc:void 0)),void 0!==n?null===n?void Ca.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=Ca.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!Ea.radioValue&&"radio"===e&&za(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Ka);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),Tc={set:function(t,e,n){return!1===e?Ca.removeAttr(t,n):t.setAttribute(n,n),n}},Ca.each(Ca.expr.match.bool.source.match(/\w+/g),(function(t,e){var a=Sc[e]||Ca.find.attr;Sc[e]=function(t,e,n){var r,i,o=e.toLowerCase();return n||(i=Sc[o],Sc[o]=r,r=null!=a(t,e,n)?o:null,Sc[o]=i),r}}));var Oc=/^(?:input|select|textarea|button)$/i,kc=/^(?:a|area)$/i;Ca.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ca.isXMLDoc(t)||(e=Ca.propFix[e]||e,i=Ca.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=Ca.find.attr(t,"tabindex");return e?parseInt(e,10):Oc.test(t.nodeName)||kc.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ea.optSelected||(Ca.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Ca.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){Ca.propFix[this.toLowerCase()]=this})),Ea.focusin="onfocusin"in window;var Nc=/^(?:focusinfocus|focusoutblur)$/,jc=function(t){t.stopPropagation()},Cc;Ca.extend(Ca.event,{trigger:function(t,e,n,r){var i,o,a,c,u,s,l,f,h=[n||ha],p=xa.call(t,"type")?t.type:t,d=xa.call(t,"namespace")?t.namespace.split("."):[];if(o=f=a=n=n||ha,3!==n.nodeType&&8!==n.nodeType&&!Nc.test(p+Ca.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[Ca.expando]?t:new Ca.Event(p,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:Ca.makeArray(e,[t]),l=Ca.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,e))){if(!r&&!l.noBubble&&!Sa(n)){for(c=l.delegateType||p,Nc.test(c+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(n.ownerDocument||ha)&&h.push(a.defaultView||a.parentWindow||window)}for(i=0;(o=h[i++])&&!t.isPropagationStopped();)f=o,t.type=1<i?c:l.bindType||p,(s=(rc.get(o,"events")||{})[t.type]&&rc.get(o,"handle"))&&s.apply(o,e),(s=u&&o[u])&&s.apply&&ec(o)&&(t.result=s.apply(o,e),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),e)||!ec(n)||u&&Ta(n[p])&&!Sa(n)&&((a=n[u])&&(n[u]=null),Ca.event.triggered=p,t.isPropagationStopped()&&f.addEventListener(p,jc),n[p](),t.isPropagationStopped()&&f.removeEventListener(p,jc),Ca.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(t,e,n){var r=Ca.extend(new Ca.Event,n,{type:t,isSimulated:!0});Ca.event.trigger(r,null,e)}}),Ca.fn.extend({trigger:function(t,e){return this.each((function(){Ca.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return Ca.event.trigger(t,e,n,!0)}}),Ea.focusin||Ca.each({focus:"focusin",blur:"focusout"},(function(n,r){var i=function(t){Ca.event.simulate(r,t.target,Ca.event.fix(t))};Ca.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=rc.access(t,r);e||t.addEventListener(n,i,!0),rc.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=rc.access(t,r)-1;e?rc.access(t,r,e):(t.removeEventListener(n,i,!0),rc.remove(t,r))}}})),Ea.createHTMLDocument=(Cc=ha.implementation.createHTMLDocument("").body,Cc.innerHTML="<form></form><form></form>",2===Cc.childNodes.length),Ca.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(Ea.createHTMLDocument?((r=(e=ha.implementation.createHTMLDocument("")).createElement("base")).href=ha.location.href,e.head.appendChild(r)):e=ha),o=!n&&[],(i=Ja.exec(t))?[e.createElement(i[1])]:(i=hc([t],e,o),o&&o.length&&Ca(o).remove(),Ca.merge([],i.childNodes)));var r,i,o};var Ac=Hr.prop("set"),Dc=Hr.type("string"),Pc=Hr.type("func"),Lc=Hr.type("object"),Mc=Hr.html("decode"),Ic=Hr.convert("string"),Rc=Hr.each("array"),qc=Hr.each("object"),Hc=Hr.map(),Fc=Hr.noop(),$c=Hr.eq(),Uc=Hr.v8(),zc=Hr.broken,Jc={class:"className",style:"style.cssText",placeholder:"@placeholder",maxlength:"@maxlength",minLength:"@minLength",max:"@max",min:"@min",href:"@href",checked:"*checked",disabled:"*disabled",readonly:"*readonly",required:"*required",selected:"*selected",controls:"*controls",ended:"*ended",muted:"*muted",hidden:"*hidden",seeking:"*seeking",paused:"*paused",loop:"*loop",autoplay:"*autoplay",multiple:"*multiple",autofocus:"*autofocus",autocomplete:"*autocomplete",draggable:"*draggable",spellcheck:"*spellcheck",translate:"*translate",specified:"*specified",defer:"*defer",async:"*async"},Bc=["no","replace","append","remove","modifytext","withtext","removetext","addattr","modifyattr","removeattr"],Xc=new RegExp("</([^><]+?)>|<([^><]+?)/>|<([^><]+?)>|([^><]+)|$","g"),Gc={input:1,br:1,hr:1,img:1,meta:1,area:1,base:1,col:1,isindex:1,command:1,embed:1,keygen:1,link:1,head:1,param:1,source:1,track:1,wbr:1,path:1,circle:1,ellipse:1,line:1,rect:1,use:1,stop:1,polyline:1,polygon:1},Wc=/(\S+)=["'](.*?)["']|([\w-]+)/gi,Kc=/^\{|\}$/gi,Yc=/^\{([^'"\s]+)\}$/i,Vc=/^[\r\n\f\t\s]+|[\r\n\f\t\s]+$/gi,Zc=/^default[^\s]+/i,Qc=function t(e,n,r){var i=Jc[n]||n,o=Dc(r)?Mc(r):r;if(Zc.test(i)){i=i.slice(7).toLowerCase();var a=e.getAttribute(i)||e[i];null!=a&&""!==a||t(e,i,o)}else"*"===i[0]?Ac(e,i.slice(1),"true"===o||!0===o):"@"===i[0]?e.setAttribute(i.slice(1),o):":"===i[0]?Ca(e).on(i.slice(1),o):Ac(e,i,o)},tu=function(t,e,n){if(":"===e[0]&&Pc(n))Ca(t).off(e.slice(1),n);else if(t[e]&&!delete t[e])try{t[e]=null}catch(t){}else t.removeAttribute(e)},eu=function(t,e,n){var r,i=e;return Yc.test(e)&&(i=void 0!==(r=n[e.replace(Kc,"")])?r:e),":"===t[0]&&(i=Pc(r)?r:Function("event",Ic(e))),i},nu=function(n,t){var r={};return qc(t,(function(t,e){n[e]===t&&(r[e]=1)})),r},ru=[Fc,function(t){var e=t.s;e&&e.parentNode&&e.parentNode.replaceChild(t.n,e)},function(t){var e=t.s;e&&e.appendChild(t.n)},function(t){var e=t.s;e.parentNode&&e.parentNode.removeChild(e)},function(t){var e=t.s;if(t.isSlot)return e.parentNode.replaceChild(t.n,e);e.textContent=Mc(t.c)},function(t){var e=t.s;if(t.isSlot)return e.parentNode.replaceChild(t.n,e);e.textContent=Mc(t.c)},function(t){t.s.innerHTML=t.n.innerHTML},function(n){qc(n.a,(function(t,e){Qc(n.s,e,t)}))},function(t){var n=t.s,r=nu(t.o,t.a);qc(t.o,(function(t,e){e in r||tu(n,e,t)})),qc(t.a,(function(t,e){e in r||Qc(n,e,t)}))},function(n){qc(n.a,(function(t,e){tu(n.s,e,t)}))}],iu=function(t,e){var n=Dc(t)?t:"";if(n&&e){var r={},i=n.trim().split("::");return r.name=i[0],r.path=i[1],r.root=e,r}},ou={treeDiff:function(t,e,n,r,i,o){if(void 0===t)n.unshift(this.createPatch(r,e,2,o));else if(void 0===e)n.push(this.createPatch(t,0,3,o));else if(t.tagName===e.tagName){if(e.isSlot||t.isSlot)return n.push(this.createPatch(t,e,5,o)),n;if($c(t.attributes,e.attributes)||(t.attributes&&e.attributes?n.push(this.createPatch(t,e,8,o)):t.attributes?e.attributes||n.push(this.createPatch(t,e,9,o)):n.push(this.createPatch(t,e,7,o))),t.text!==e.text)return t.text&&e.text&&t.text!==e.text?n.push(this.createPatch(t,e,4,o)):t.text?e.text||n.push(this.createPatch(t,e,6,o)):n.push(this.createPatch(t,e,5,o)),n;var a,c=t.child.length,u=e.child.length;if(c||u)if(c<u){for(a=c;a<u;a++)n.push(this.createPatch(t,e.child[a],2,o));for(a=c;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else if(u<c){for(a=c-1;u<=a;a--)n.push(this.createPatch(t.child[a],0,3,o));for(a=u;a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else for(a=Math.max(c,u);a--;)this.treeDiff(t.child[a],e.child[a],n,t,e,o)}else t.tagName!==e.tagName&&n.push(this.createPatch(t,e,1,o));return n},applyPatch:function(e,t){Rc(Hc(t,function(t){return t.path=t.s,t.s=this.mapTreeNode(e,t.s),t}.bind(this)),(function(t){ru[t.t].call(e,t)}))},mapTreeNode:function(t,e){for(var n,r=0,i=t.children;r<e.length&&i[e[r]];r++)i=(n=i[e[r]]).children;return n},createSelector:function(t){for(var e=[t.i];t=t.parent;)void 0!==t.i&&e.unshift(t.i);return e},createPatch:function(t,e,n,r){var i,o=this.createSelector(t),a=e.isSlot;switch(Bc[n]){case"replace":i={t:1,s:o,n:this.createDOMElement(e,r)};break;case"append":i={t:2,s:o,n:this.createDOMElement(e,r)};break;case"remove":i={t:3,s:o};break;case"modifytext":i={t:4,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"withtext":i={t:5,s:o,c:e.text,isSlot:a},a&&(i.n=this.createDOMElement(e,r));break;case"removetext":i={t:6,s:o,n:this.createDOMElement(e,r)};break;case"addattr":i={t:7,s:o,a:e.attributes};break;case"modifyattr":i={t:8,s:o,a:e.attributes,o:t.attributes};break;case"removeattr":i={t:9,s:o,a:t.attributes};break;default:i={t:0}}return i},createTreeFromHTML:function(t,o){var a,e={tagName:"__CUBEC_VIEWROOT__",isRoot:!0,child:[]},c=e,u=e.child;return t.replace(Xc,function(t,e,n,r,i){return t&&t.replace(Vc,"")&&(e?(c=c.parent,u=c.child):n?((a=this.createObjElement(n,o)).i=u.length,u.push(a),a.parent=c):r?((a=this.createObjElement(r,o)).i=u.length,u.push(a),a.parent=c,a.tagName in Gc||(u=(c=a).child)):i&&i.trim()&&(c.text=i)),t}.bind(this)),e},createObjElement:function(t,e){var n=t.split(" "),r=Lc(e)?e:{},i=n.shift(),o=n.join(" "),a={tagName:i,child:[]};if("slot"===i&&(a.isSlot=!0),o){for(var c,u,s={};c=Wc.exec(o);)c[1]?s[c[1]]=eu(c[1],c[2],r):u=u?(s[u]=eu(u,c[0],r),0):c[0];a.attributes=s}return a},createDOMElement:function(t,e){var n=document.createElement(t.tagName);if(e&&t.attributes&&t.attributes.ref&&(e.refs[t.attributes.ref]=n),qc(t.attributes,(function(t,e){Qc(n,e,t)})),e&&t.isSlot){var r=iu(t.text,n);return r&&e._ass(zc).push(r),n}return t.text&&(n.textContent=Mc(t.text)),t.child.length&&Rc(t.child,(function(t){n.appendChild(this.createDOMElement(t,e))}),this),n}},au=Object.freeze(Uc(ou)),cu=0,uu=Hr.broken,su=Hr.doom(),lu=Hr.doom("cache"),fu=Hr.lock(),hu=Hr.extend(),pu=Hr.some(),du=Hr.each("array"),vu=Hr.each("object"),mu=Hr.slice(),gu=Hr.type("func"),yu=Hr.type("string"),bu=Hr.type("number"),xu=Hr.type("array"),wu=Hr.type("object"),_u=Hr.type("elm"),Eu=Hr.type("arraylike"),Tu=Hr.prop("get"),Su=Hr.size(),Ou=Hr.ayc(),ku=Hr.noop(),Nu=Hr.link(),ju=Hr.clone(),Cu=Hr.define(),Au=Hr.convert("string"),Du=Hr.event("on"),Pu=Hr.event("off"),Lu=Hr.event("emit"),Mu=Hr.event("has"),Iu=Hr.fireEvent();function Ru(t){if(!_u(t)&&!Eu(t))throw new TypeError("el must be typeof DOMElement or NodeList collections -> not "+t);return!0}function qu(t){return!t}function Hu(e){return function(){var t=Iu(e,"beforeRender",arguments);return!(t&&t.length&&pu(t,qu))&&arguments}}function Fu(e,n){return function(t){return n.apply(e,t)}}function $u(e){return function(t){return t!==uu?(e.root._vid=e._vid,e.emit("completeRender",t)):e.emit("catch")}}function Uu(e,t){var n=Hu(e),r=Fu(e,t),i=$u(e);return Nu(n,(function(t){return t&&Ou(Nu((function(){return t}),r,i)),e}))}function zu(e,t){return function(){try{return t.apply(e,arguments)}catch(t){if(console.error("view {custom} render static throw error with using illegality arguments",t,arguments),!Mu(e,"catch"))throw t;return uu}}}function Ju(n,t){if(gu(t)){var r=Uu(n,t.bind(n)),i=n._asb(uu);Cu(n,"render",{get:function(){return r},set:function(t){if(gu(t)){var e=n.render;r=Uu(n,zu(n,t.bind(n))),Su(i)&&vu(i,(function(t){$i.call(t,"change",e),Fi.call(t,"change",r)}))}return r},enumerable:!1,configurable:!1})}return n}function Bu(t,e){var n=t._ass(uu);t&&n.length&&du(n.splice(0,n.length),Xu.bind(t,e))}function Xu(t,e,n){var r=Tu(this,e.name);if(r){var i="_cslot-".concat(this.name||"v".concat(this._vid)),o=t[0],a=e.path&&wu(o)?[Tu(o,e.path)]:t;return e.root.setAttribute("id",i),(r.constructor===Wu&&r._isExtender?function(){var t=r({root:e.root});t.render.apply(t,a)}:r instanceof Wu&&bu(r._vid)?function(){r.root?(r.root.setAttribute("id",i),e.root.parentNode.replaceChild(r.root,e.root),r.render.apply(r,a)):r.mount.apply(r,[e.root].concat(a))}:gu(r)?function(){r.apply(this,[e.root].concat(a))}.bind(this):yu(r)||bu(r)?function(){e.root.textContent=r}:function(){e.root.textContent=""})()}}function Gu(t,e,n){return'<ct id="_c-'.concat(e||"v"+n,'">').concat(t,"</ct>")}Ca.fn.render=function(i,o,a,c){return this.each((function(t,e){var n=au.createTreeFromHTML(i,a);if(e._vid===o._vid&&o.axml)return au.applyPatch(e,au.treeDiff(o.axml,n,[],null,null,o),o.axml=n),Bu(o,c),o;e._destory=function(){return o.destroy()};var r=au.createDOMElement(o.axml=n,o).firstElementChild;return Bu(o,c),e.appendChild(r,e.innerHTML=""),o}))};var Wu=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.refs={};var e={},n=[];ri(this,{_vid:cu++,_asb:function(t){return t===uu?e:{}},_ass:function(t){return t===uu?n:[]}}),t=hu(ju(la.DEFAULT_OPTION),t||{});var r=fu(wu(t.props)?t.props:{}),i=t.root,o=t.render,a=t.events,c=t.name,u=t.connect,s=xu(u)?u:u instanceof mo||u instanceof ua?[u]:[],l=t.template;o=gu(o)?zu(this,o):(l=yu(l)?(t.cache?lu:su)(Gu(l.trim(),c,this._vid),r):gu(l)?l:ku)!=ku?function(){var t=mu(arguments);try{return t[0]instanceof mo&&(t[0]=t[0].get()),t[0]instanceof ua&&(t[0]=t[0].toChunk()),this.directRender?(this.axml=null,this.root.innerHTML=l.apply(this,t)||""):Ca(this.root).render(l.apply(this,t),this,r,t),arguments}catch(t){if(console.error("view render static throw error with using illegality arguments",t,arguments),!Mu(this,"catch"))throw t;return uu}}:ku,i&&Ru(i)?(this.root=i,vu(a,ti,Ju(this,o)),this.connect.apply(this,s)):(a&&a.init&&(this.on("init",a.init),delete a.init),this.mount=function(t){return Ru(t)&&(this.root=i=t,vu(a,ti,Ju(this,o)),this.connect.apply(this,s),1 in arguments&&this.render.apply(this,mu(arguments,1)),delete this.mount),this}),hu(this,t,la.IGNORE_KEYWORDS).emit("init").off("init")},Ku=1,Yu={};function Vu(t){t.data&&t.data.iid&&(Yu[t.data.iid]=!0)}function Zu(t){t.data&&t.data.iid&&(Yu[t.data.iid]=!1,Ca(t.target).trigger("input"))}function Qu(t){var e=0;if(null!=t.selectionStart)e=t.selectionStart;else if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}return e}function ts(t,e){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select()}return t.selectionStart?t.setSelectionRange(e,e,t.focus()):t.focus()}function es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Wu.prototype={constructor:Wu,inject:function(t){var e=t||this.root;return e._vid=Wu._vid,this.axml=au.createTreeFromHTML(e.innerHTML),this},on:function(t,a){return gu(a)&&du(Au(t).split("|"),(function(t){var e=t.split(":");if(1<e.length)if("input"===e[0]){var n=Ku++,r={iid:n},i=function(t){if(Yu[n])return!1;t.target.focus&&t.target.focus();var e=Qu(t.target);a.apply(this,arguments),e&&ts(t.target,e)}.bind(this);a._fn=i,Ca(this.root).on("compositionstart",r,Vu).on("compositionend",r,Zu).on(e[0],e[1],i)}else{var o=a.bind(this);a._fn=o,Ca(this.root).on(e[0],e[1],o)}else Du(this,t,a)}),this),this},off:function(t,n){return t&&yu(t)?du(t.split("|"),(function(t){var e=t.split(":");1<e.length?Ca(this.root).off(e[0],e[1],n&&n._fn||n):Pu(this,t,n)}),this):(Ca(this.root).off(),Pu(this)),this},emit:function(t,n){var e=Au(t),r=e.split(":");return 2<r.length?(du(e.split("|"),(function(t){var e=t.split(":");Ca(this.root).find(e[1]).trigger(e[0],n)}),this),this):1<r.length?(Ca(this.root).find(r[1]).trigger(r[0],n),this):Lu(this,t,n)},connect:function(){var t,e=this,n=this._asb(uu);return(t=Eu(arguments[0])?arguments[0]:mu(arguments)).length&&du(t,(function(t){(t instanceof mo||t instanceof ua)&&null!=t._mid&&(n[t._mid]||(n[t._mid]=t,Fi.call(t,"change",e.render)))})),this},disconnect:function(){var t,e=this,n=this._asb(uu);return(t=Eu(arguments[0])?arguments[0]:mu(arguments)).length&&du(t,(function(t){(t instanceof mo||t instanceof ua)&&null!=t._mid&&n[t._mid]&&(delete n[t._mid],$i.call(t,"change",e.render))})),this},destroy:function(t){var e=this;this.emit("beforeDestroy"),this.root._vid=void 0;return Ca(e.root).off(),e.root.innerHTML="",e.root.parentNode&&t&&e.root.parentNode.removeChild(e.root),void e.emit("destroy",delete e.root)}};var ns=es;function rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function is(t,e,n){return e&&rs(t.prototype,e),n&&rs(t,n),t}var os=is,as=[],cs=window.history,us=/\/:([^\s/]+)/g,ss="/([^\\s\\/]+)",ls=Hr.merge(),fs=Hr.type("def"),hs=Hr.each(),ps=Hr.map(),ds=Hr.string("trim"),vs=Hr.keys(),ms=Hr.slice(),gs=Hr.combined(),ys=Hr.type("string"),bs=Hr.type("array"),xs=Hr.noop(),ws=Hr.param("stringify"),_s=Hr.convert("number"),Es=Hr.cloneDeep(),Ts=Hr.param("parse");function Ss(t){return t&&t!==location.pathname&&t!==location.pathname+"/"}function Os(){return!0}function ks(e,t,n,r,i){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],a=Ss(t);if((!o||a)&&this._status){var c,u,s,l,f,h=this,p=vs(e.mapping);for(r=fs(r,"Object")?r:ys(r)?JSON.parse(r):{},c=0,u=p.length;c<u;c++)if((s=e.mapping[p[c]]).test(t)){l=p[c],f=gs(e.params[l],ms(s.exec(t),1));break}if(l){var d=ys(n)?("?"!==n.charAt(0)?"?":"")+n:fs(n,"Object")?"?"+ws(n):"";if(n=fs(n,"Object")?n:Ts(n),e.beforeActions(t,f,n,r)){var v=e.routes[l];hs(ps(v,(function(t){return e.actions[t]||xs})),(function(t){return t.call(h,f,n,r)})),i||cs[a?"pushState":"replaceState"](r,null,t+d),e.completedActions(t,f,n,r)}}}return this}var Ns={routes:{},actions:{},beforeActions:Os,completedActions:xs},js=(function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ns(this,o);var n=this,i=ls(Es(Ns),t);this._status=0,this._assert=function(t){if(t===as)return i};var e,r={};(e=ps(i.elements,(function(t){return"click:"+t})).join("|"))&&(r[e]=function(t){t.preventDefault();var e=t.currentTarget;return n.to(e.to||e.getAttribute("to")||e.getAttribute("href"),e.query||e.getAttribute("query"),e.state||e.getAttribute("state"),0,1)},this._delegator=new Wu({root:document.documentElement,render:xs,events:r})),i.mapping={},i.params={},i.routes=ps(i.routes,(function(t){return bs(t)?t:[t]})),hs(i.routes,(function(t,e){var n=[],r=ds(e).replace(us,(function(t,e){return n.push(e),ss}));i.params[e]=n,i.mapping[e]=RegExp("^"+r+"[/]?$")})),window.addEventListener("popstate",function(t){return ks.call(this,i,location.pathname,location.search,t.state,!0,!1,!0)}.bind(this))}return os(o,[{key:"to",value:function(t,e,n,r,i){return ks.call(this,this._assert(as),t,e,n,r,i)}},{key:"back",value:function(){return cs.back(),this}},{key:"go",value:function(t){var e=_s(t);return e&&cs.go(e),this}},{key:"start",value:function(t,e,n){return this._status?this:(this._status=1,t&&ys(t)?this.to(t,e,n,!0,!1):!1===t?this:this.to(location.pathname,location.search,{},!0,!1))}},{key:"stop",value:function(){return this._status=0,this}},{key:"resolve",value:function(t){return this._status&&cs.replaceState(fs(t,"Object")?t:{_resolveTimeStamp:Date.now()},null,location.href),this}}]),o})(),Cs=Hr.type("required"),As=Hr.type("func"),Ds=Hr.type("int"),Ps=Hr.type("array"),Ls=Hr.type("float"),Ms=Hr.type("string"),Is=Hr.type("object"),Rs=Hr.type("number"),qs=Hr.type("primitive"),Hs=Hr.type("arraylike"),Fs=Hr.type("boolean"),$s=Hr.v8(),Us=function(e,t){return function(t){return e(t)}},zs=function(e){return function(t){return t instanceof e}},Js={isRequired:Us(Cs,"required"),isFunc:Us(As,"function"),isInt:Us(Ds,"int"),isArray:Us(Ps,"array"),isFloat:Us(Ls,"float"),isString:Us(Ms,"string"),isObject:Us(Is,"object"),isNumber:Us(Rs,"number"),isArrayLike:Us(Hs,"arrayLike"),isPrimitive:Us(qs,"primitive"),isBool:Us(Fs,"boolean"),isModel:Us(zs(mo),"model"),isAtom:Us(zs(ua),"atom")},Bs=Object.freeze($s(Js));function Xs(e){return function(t){return new e(t||{})}}var Gs=Hr.merge();function Ws(n){return function(e){var t=function(t){return new n(Gs(e,t||{}))};return t.constructor=n,t._isExtender=!0,t}}var Ks=Object.create(null);Ks.version="1.4.7",Ks.struct=Hr,Ks.verify=Bs,Ks.atom=Xs(ua),Ks.model=Xs(mo),Ks.view=Xs(Wu),Ks.router=Xs(js),Ks.atom.extend=Ws(ua),Ks.model.extend=Ws(mo),Ks.view.extend=Ws(Wu),Ks.router.extend=Ws(js);var Ys=Hr,Vs=Bs,Zs=Ks.atom,Qs=Ks.model,tl=Ks.view,el=Ks.router,nl=Object.freeze(Ks);t.struct=Ys,t.verify=Vs,t.atom=Zs,t.model=Qs,t.view=tl,t.router=el,t.default=nl,Object.defineProperty(t,"__esModule",{value:!0})}));
